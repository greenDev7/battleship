{"version":3,"file":"js/app.652b6d8a.js","mappings":"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","sources":["webpack://battleship/./src/App.vue","webpack://battleship/./src/App.vue?7ccd","webpack://battleship/./src/views/BattleShipView.vue?00ca","webpack://battleship/./src/views/BattleShipView.vue","webpack://battleship/./src/components/BattleBoardComponent.vue?2f92","webpack://battleship/./src/components/BattleBoardComponent.vue","webpack://battleship/./src/components/BattleGridWithCaptionsComponent.vue?8de3","webpack://battleship/./src/components/BattleGridWithCaptionsComponent.vue","webpack://battleship/./src/components/BattleGridComponent.vue?5919","webpack://battleship/./src/components/BattleGridComponent.vue","webpack://battleship/./src/model/enums/GameState.ts","webpack://battleship/./src/model/enums/GameType.ts","webpack://battleship/./src/model/enums/MessageType.ts","webpack://battleship/./src/model/enums/ShipOrientation.ts","webpack://battleship/./src/model/enums/HighlightType.ts","webpack://battleship/./src/helpers/LetterDict.ts","webpack://battleship/./src/model/Location.ts","webpack://battleship/./src/model/Game.ts","webpack://battleship/./src/helpers/WebSocketManager.ts","webpack://battleship/./src/model/enums/ShotResult.ts","webpack://battleship/./src/helpers/UIHandler.ts","webpack://battleship/./src/helpers/GameProcessManager.ts","webpack://battleship/./src/store/modules/GameStore.ts","webpack://battleship/./src/store/modules/CaptionStore.ts","webpack://battleship/./src/store/index.ts","webpack://battleship/./src/model/enums/GridType.ts","webpack://battleship/./src/model/Ship.ts","webpack://battleship/./src/components/BattleGridComponent.vue?e551","webpack://battleship/./src/components/BattleGridWithCaptionsComponent.vue?9b4d","webpack://battleship/./src/components/BattleBoardComponent.vue?f1f3","webpack://battleship/./src/components/GameOverInfoComponent.vue?daa5","webpack://battleship/./src/components/GameOverInfoComponent.vue","webpack://battleship/./src/components/GameOverInfoComponent.vue?decb","webpack://battleship/./src/components/CaptchaComponent.vue?4eea","webpack://battleship/./src/components/CaptchaComponent.vue","webpack://battleship/./src/components/CaptchaComponent.vue?783a","webpack://battleship/./src/components/ArrangementRuleComponent.vue?c808","webpack://battleship/./src/components/ArrangementRuleComponent.vue","webpack://battleship/./src/components/ArrangementRuleComponent.vue?5415","webpack://battleship/./src/components/FriendGameComponent.vue?88cc","webpack://battleship/./src/components/FriendGameComponent.vue","webpack://battleship/./src/components/FriendGameComponent.vue?f7da","webpack://battleship/./src/components/StateInfoComponent.vue?e38e","webpack://battleship/./src/components/StateInfoComponent.vue","webpack://battleship/./src/components/StateInfoComponent.vue?24ef","webpack://battleship/./src/views/BattleShipView.vue?d1b2","webpack://battleship/./src/router/index.ts","webpack://battleship/./src/main.ts","webpack://battleship/webpack/bootstrap","webpack://battleship/webpack/runtime/chunk loaded","webpack://battleship/webpack/runtime/compat get default export","webpack://battleship/webpack/runtime/define property getters","webpack://battleship/webpack/runtime/global","webpack://battleship/webpack/runtime/hasOwnProperty shorthand","webpack://battleship/webpack/runtime/make namespace object","webpack://battleship/webpack/runtime/publicPath","webpack://battleship/webpack/runtime/jsonp chunk loading","webpack://battleship/webpack/startup"],"sourcesContent":["<template>\n  <nav class=\"navbar navbar-expand navbar-dark bg-dark mb-5\">\n    <div class=\"navbar-nav container\">\n      <div class=\"d-flex flex-row w-100 justify-content-evenly\"> \n        <router-link class=\"nav-item nav-link\" to=\"/\"\n          >Морской бой</router-link\n        >\n        <!-- <router-link class=\"nav-item nav-link\" to=\"/\">О проекте</router-link> -->\n      </div>\n    </div>\n  </nav>\n  <router-view />\n</template>\n\n\n<style>\n#app {\n  box-sizing: border-box;\n}\n\n.blink {\n  animation: blink-animation 2s steps(5, start) infinite;\n  -webkit-animation: blink-animation 2s steps(5, start) infinite;\n}\n\n.darkred {\n  color: rgb(146, 42, 38);\n}\n\n.green {\n  color: rgb(66, 185, 131);\n}\n\n.wfit {\n  width: fit-content;\n}\n\n@keyframes blink-animation {\n  to {\n    visibility: hidden;\n  }\n}\n\n@-webkit-keyframes blink-animation {\n  to {\n    visibility: hidden;\n  }\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=375f581a\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=375f581a&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vShow as _vShow, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"border border-secondary border-3 rounded-3 p-1 wfit mx-auto mb-4\"\n}\nconst _hoisted_3 = { class: \"d-flex flex-row flex-wrap mb-3 justify-content-center\" }\nconst _hoisted_4 = { class: \"w-100 maxw-400 pb-3 me-lg-5\" }\nconst _hoisted_5 = [\"disabled\"]\nconst _hoisted_6 = { class: \"w-100 maxw-400 pb-3 ms-lg-5\" }\nconst _hoisted_7 = {\n  key: 1,\n  class: \"border border-dark border-2 rounded-3 mx-auto wfit mb-4\"\n}\nconst _hoisted_8 = {\n  key: 2,\n  class: \"mx-auto wfit mb-4\"\n}\nconst _hoisted_9 = [\"disabled\"]\nconst _hoisted_10 = {\n  key: 3,\n  class: \"border border-dark border-2 rounded-3 wfit mx-auto mb-4\"\n}\nconst _hoisted_11 = { class: \"d-flex flex-row flex-wrap mt-4 mb-4 mt-lg-3 justify-content-center\" }\nconst _hoisted_12 = { class: \"minw-17\" }\nconst _hoisted_13 = [\"disabled\"]\nconst _hoisted_14 = { class: \"position-fixed alpos\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_CaptchaComponent = _resolveComponent(\"CaptchaComponent\")!\n  const _component_FriendGameComponent = _resolveComponent(\"FriendGameComponent\")!\n  const _component_ArrangementRuleComponent = _resolveComponent(\"ArrangementRuleComponent\")!\n  const _component_StateInfoComponent = _resolveComponent(\"StateInfoComponent\")!\n  const _component_GameOverInfoComponent = _resolveComponent(\"GameOverInfoComponent\")!\n  const _component_BattleBoardComponent = _resolveComponent(\"BattleBoardComponent\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _withDirectives(_createElementVNode(\"input\", {\n      class: \"form-control form-control-lg mb-4\",\n      placeholder: \"Введите ник\",\n      type: \"text\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.nickName) = $event))\n    }, null, 512), [\n      [_vModelText, _ctx.nickName]\n    ]),\n    (this.captchaVisible)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createVNode(_component_CaptchaComponent, { onCaptchaOkButtonClicked: _ctx.processCaptcha }, null, 8, [\"onCaptchaOkButtonClicked\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"button\", {\n          class: \"btn btn-lg btn-dark p-3 w-100 text-nowrap\",\n          type: \"button\",\n          onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.handleRandomGameButtonClick && _ctx.handleRandomGameButtonClick(...args))),\n          disabled: _ctx.topButtonDisabled\n        }, \" Игра со случайным соперником \", 8, _hoisted_5)\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createElementVNode(\"button\", {\n          class: \"btn btn-lg btn-dark p-3 w-100 text-nowrap\",\n          type: \"button\",\n          onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.handleFriendGameButtonClick && _ctx.handleFriendGameButtonClick(...args)))\n        }, \" Игра с другом \")\n      ])\n    ]),\n    (_ctx.isFriendGameNotCreated())\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n          _createVNode(_component_FriendGameComponent, {\n            clientUUID: _ctx.clientUUID,\n            onFriendUUIDUpdated: _ctx.validateAndSetFriendUUID,\n            friendInputDisabled: _ctx.friendInputDisabled\n          }, null, 8, [\"clientUUID\", \"onFriendUUIDUpdated\", \"friendInputDisabled\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.isFriendGameNotCreated())\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n          _createElementVNode(\"button\", {\n            class: \"btn btn-lg btn-dark p-3 text-nowrap minw-17\",\n            type: \"button\",\n            disabled: _ctx.topButtonDisabled,\n            onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.handleCreateFriendGameButtonClick && _ctx.handleCreateFriendGameButtonClick(...args)))\n          }, \" Создать игру \", 8, _hoisted_9)\n        ]))\n      : _createCommentVNode(\"\", true),\n    (!_ctx.isPlaying)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n          _createVNode(_component_ArrangementRuleComponent)\n        ]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.isStateInfoComponentVisible())\n      ? (_openBlock(), _createBlock(_component_StateInfoComponent, {\n          key: 4,\n          enemyNickName: _ctx.getEnemyNickname,\n          enemyState: _ctx.getEnemyState,\n          myState: _ctx.getMyState\n        }, null, 8, [\"enemyNickName\", \"enemyState\", \"myState\"]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.getMyState === 5)\n      ? (_openBlock(), _createBlock(_component_GameOverInfoComponent, {\n          key: 5,\n          isWinner: _ctx.getIsWinner\n        }, null, 8, [\"isWinner\"]))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_component_BattleBoardComponent, {\n      isMyTurnToShoot: _ctx.getIsMyTurnToShoot,\n      turnOrderHintsVisible: _ctx.getMyState === 4,\n      enemyShotHint: _ctx.getEnemyShotHint,\n      enemyNickname: _ctx.getEnemyNickname\n    }, null, 8, [\"isMyTurnToShoot\", \"turnOrderHintsVisible\", \"enemyShotHint\", \"enemyNickname\"]),\n    _createElementVNode(\"div\", _hoisted_11, [\n      _createElementVNode(\"div\", _hoisted_12, [\n        _createElementVNode(\"button\", {\n          ref: \"playButton\",\n          class: \"btn btn-lg btn-success w-100 text-nowrap\",\n          type: \"button\",\n          onClick: _cache[4] || (_cache[4] = \n//@ts-ignore\n(...args) => (_ctx.handlePlayButtonClick && _ctx.handlePlayButtonClick(...args))),\n          disabled: !_ctx.isPlayButtonEnabled()\n        }, _toDisplayString(_ctx.getPlayButtonCaption()), 9, _hoisted_13)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_14, [\n      _withDirectives(_createElementVNode(\"div\", {\n        class: _normalizeClass([\"alert alert-dismissible fade show\", `alert-${_ctx.getAlert.alertColor}`]),\n        role: \"alert\"\n      }, [\n        _createTextVNode(_toDisplayString(_ctx.getAlert.alertText) + \" \", 1),\n        _createElementVNode(\"button\", {\n          type: \"button\",\n          class: \"btn-close\",\n          \"aria-label\": \"Close\",\n          onClick: _cache[5] || (_cache[5] = \n//@ts-ignore\n(...args) => (_ctx.hideAlert && _ctx.hideAlert(...args)))\n        })\n      ], 2), [\n        [_vShow, _ctx.getAlert.alertVisible]\n      ])\n    ])\n  ]))\n}","<template>\r\n  <div class=\"container\">\r\n    <input\r\n      class=\"form-control form-control-lg mb-4\"\r\n      placeholder=\"Введите ник\"\r\n      type=\"text\"\r\n      v-model=\"nickName\"\r\n    />\r\n    <div\r\n      v-if=\"this.captchaVisible\"\r\n      class=\"border border-secondary border-3 rounded-3 p-1 wfit mx-auto mb-4\"\r\n    >\r\n      <CaptchaComponent @captchaOkButtonClicked=\"processCaptcha\" />\r\n    </div>\r\n    <div class=\"d-flex flex-row flex-wrap mb-3 justify-content-center\">\r\n      <div class=\"w-100 maxw-400 pb-3 me-lg-5\">\r\n        <button\r\n          class=\"btn btn-lg btn-dark p-3 w-100 text-nowrap\"\r\n          type=\"button\"\r\n          @click=\"handleRandomGameButtonClick\"\r\n          :disabled=\"topButtonDisabled\"\r\n        >\r\n          Игра со случайным соперником\r\n        </button>\r\n      </div>\r\n      <div class=\"w-100 maxw-400 pb-3 ms-lg-5\">\r\n        <button\r\n          class=\"btn btn-lg btn-dark p-3 w-100 text-nowrap\"\r\n          type=\"button\"\r\n          @click=\"handleFriendGameButtonClick\"\r\n        >\r\n          Игра с другом\r\n        </button>\r\n      </div>\r\n      <!-- <div class=\"w-100 maxw-400 pb-3\">\r\n        <button\r\n          class=\"btn btn-lg btn-dark p-3 w-100 text-nowrap\"\r\n          type=\"button\"\r\n          :disabled=\"topButtonDisabled\"\r\n        >\r\n          Игра с компьютером\r\n        </button>\r\n      </div> -->\r\n    </div>\r\n    <div\r\n      class=\"border border-dark border-2 rounded-3 mx-auto wfit mb-4\"\r\n      v-if=\"isFriendGameNotCreated()\"\r\n    >\r\n      <FriendGameComponent\r\n        :clientUUID=\"clientUUID\"\r\n        @friendUUIDUpdated=\"validateAndSetFriendUUID\"\r\n        :friendInputDisabled=\"friendInputDisabled\"\r\n      />\r\n    </div>\r\n    <div class=\"mx-auto wfit mb-4\" v-if=\"isFriendGameNotCreated()\">\r\n      <button\r\n        class=\"btn btn-lg btn-dark p-3 text-nowrap minw-17\"\r\n        type=\"button\"\r\n        :disabled=\"topButtonDisabled\"\r\n        @click=\"handleCreateFriendGameButtonClick\"\r\n      >\r\n        Создать игру\r\n      </button>\r\n    </div>\r\n    <div\r\n      class=\"border border-dark border-2 rounded-3 wfit mx-auto mb-4\"\r\n      v-if=\"!isPlaying\"\r\n    >\r\n      <ArrangementRuleComponent />\r\n    </div>\r\n    <StateInfoComponent\r\n      v-if=\"isStateInfoComponentVisible()\"\r\n      :enemyNickName=\"getEnemyNickname\"\r\n      :enemyState=\"getEnemyState\"\r\n      :myState=\"getMyState\"\r\n    />\r\n    <GameOverInfoComponent v-if=\"getMyState === 5\" :isWinner=\"getIsWinner\" />\r\n\r\n    <BattleBoardComponent\r\n      :isMyTurnToShoot=\"getIsMyTurnToShoot\"\r\n      :turnOrderHintsVisible=\"getMyState === 4\"\r\n      :enemyShotHint=\"getEnemyShotHint\"\r\n      :enemyNickname=\"getEnemyNickname\"\r\n    />\r\n    <div\r\n      class=\"d-flex flex-row flex-wrap mt-4 mb-4 mt-lg-3 justify-content-center\"\r\n    >\r\n      <div class=\"minw-17\">\r\n        <button\r\n          ref=\"playButton\"\r\n          class=\"btn btn-lg btn-success w-100 text-nowrap\"\r\n          type=\"button\"\r\n          @click=\"handlePlayButtonClick\"\r\n          :disabled=\"!isPlayButtonEnabled()\"\r\n        >\r\n          {{ getPlayButtonCaption() }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"position-fixed alpos\">\r\n      <div\r\n        class=\"alert alert-dismissible fade show\"\r\n        :class=\"`alert-${getAlert.alertColor}`\"\r\n        role=\"alert\"\r\n        v-show=\"getAlert.alertVisible\"\r\n      >\r\n        {{ getAlert.alertText }}\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn-close\"\r\n          aria-label=\"Close\"\r\n          @click=\"hideAlert\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport BattleBoardComponent from \"../components/BattleBoardComponent.vue\";\r\nimport GameOverInfoComponent from \"../components/GameOverInfoComponent.vue\";\r\nimport CaptchaComponent from \"../components/CaptchaComponent.vue\";\r\nimport ArrangementRuleComponent from \"../components/ArrangementRuleComponent.vue\";\r\nimport FriendGameComponent from \"../components/FriendGameComponent.vue\";\r\nimport { defineComponent } from \"vue\";\r\nimport MessageType from \"@/model/enums/MessageType\";\r\nimport StateInfoComponent from \"@/components/StateInfoComponent.vue\";\r\nimport {\r\n  v4 as uuidv4,\r\n  parse as uuidParse,\r\n  stringify as uuidStringify,\r\n  MAX as MAX_UUID,\r\n  NIL as NIL_UUID,\r\n} from \"uuid\";\r\nimport { mapGetters } from \"vuex\";\r\nimport GameStore from \"@/store/index\";\r\nimport Game from \"@/model/Game\";\r\nimport WebSocketManager from \"@/helpers/WebSocketManager\";\r\nimport GameProcessManager from \"@/helpers/GameProcessManager\";\r\nimport GameType from \"@/model/enums/GameType\";\r\nimport GameState from \"@/model/enums/GameState\";\r\nimport UIHandler from \"@/helpers/UIHandler\";\r\n\r\nexport default defineComponent({\r\n  name: \"BattleShipView\",\r\n\r\n  components: {\r\n    BattleBoardComponent,\r\n    StateInfoComponent,\r\n    GameOverInfoComponent,\r\n    CaptchaComponent,\r\n    ArrangementRuleComponent,\r\n    FriendGameComponent,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      gameType: GameType.RANDOM,\r\n      nickName: \"\",\r\n      topButtonDisabled: false,\r\n      isPlaying: false,\r\n      captchaVisible: true,\r\n      clientUUID: \"\",\r\n      friendUUID: \"\",\r\n      friendInputDisabled: false,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      \"getMyState\",\r\n      \"getEnemyState\",\r\n      \"getEnemyNickname\",\r\n      \"getEnemyShotHint\",\r\n      \"getIsMyTurnToShoot\",\r\n      \"getIsWinner\",\r\n      \"getAlert\",\r\n    ]),\r\n  },\r\n\r\n  methods: {\r\n    isStateInfoComponentVisible() {\r\n      return (\r\n        this.getMyState !== GameState.NOT_CREATED &&\r\n        this.getMyState !== GameState.GAME_IS_OVER\r\n      );\r\n    },\r\n\r\n    isPlayButtonEnabled() {\r\n      return (\r\n        (this.getMyState === GameState.SHIPS_POSITIONING &&\r\n          (this.getEnemyState === GameState.SHIPS_POSITIONING ||\r\n            this.getEnemyState === GameState.SHIPS_ARE_ARRANGED)) ||\r\n        this.getMyState === GameState.GAME_IS_OVER\r\n      );\r\n    },\r\n\r\n    hideAlert() {\r\n      GameStore.commit(\"hideAlert\");\r\n    },\r\n\r\n    isFriendGameNotCreated() {\r\n      return (\r\n        this.gameType === GameType.FRIEND &&\r\n        this.getMyState === GameState.NOT_CREATED\r\n      );\r\n    },\r\n\r\n    processCaptcha(isCaptchaSuccess: boolean) {\r\n      this.topButtonDisabled = !isCaptchaSuccess;\r\n      this.captchaVisible = !isCaptchaSuccess;\r\n\r\n      if (!isCaptchaSuccess) UIHandler.showAlert(\"Неверный код\", \"danger\");\r\n    },\r\n\r\n    validateAndSetFriendUUID(eventArg: string) {\r\n      try {\r\n        let parsedUUID = uuidStringify(uuidParse(eventArg));\r\n        if (parsedUUID === MAX_UUID || parsedUUID === NIL_UUID) {\r\n          UIHandler.showAlert(\r\n            \"Некорректный UUID (NIL/MAX UUID)\",\r\n            \"danger\",\r\n            3000\r\n          );\r\n          return;\r\n        }\r\n        if (parsedUUID === this.clientUUID) {\r\n          UIHandler.showAlert(\r\n            \"UUID ваш и друга не могут совпадать\",\r\n            \"danger\",\r\n            5000\r\n          );\r\n          return;\r\n        }\r\n        this.friendUUID = parsedUUID;\r\n        UIHandler.showAlert(\"UUID валидный\", \"success\", 5000);\r\n      } catch (error) {\r\n        UIHandler.showAlert(\"Невалидный UUID\", \"danger\", 7000);\r\n      }\r\n    },\r\n\r\n    preventNavAndUnload(event: BeforeUnloadEvent) {\r\n      if (!this.isPlaying) return;\r\n      event.preventDefault();\r\n      event.returnValue = \"\";\r\n    },\r\n\r\n    isNickNameValid(): boolean {\r\n      let length = this.nickName.trim().length;\r\n\r\n      if (length === 0) {\r\n        UIHandler.showAlert(\"Ник не должен быть пустым!\", \"warning\");\r\n        return false;\r\n      }\r\n\r\n      let maxLength = 25;\r\n\r\n      if (length > maxLength) {\r\n        UIHandler.showAlert(\r\n          `Максимальная длина ника ${maxLength} символов!`,\r\n          \"warning\"\r\n        );\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    },\r\n\r\n    handleGameCreation() {\r\n      if (this.gameType === GameType.RANDOM)\r\n        GameStore.commit(\"setMyState\", GameState.SEARCHING_FOR_OPPONENT);\r\n      else GameStore.commit(\"setMyState\", GameState.WAITING_FOR_FRIEND);\r\n\r\n      let ws: WebSocket = WebSocketManager.createWebSocket(this.clientUUID);\r\n\r\n      let gameCreationBody = GameProcessManager.getGameCreationBody(\r\n        this.gameType,\r\n        this.nickName.trim(),\r\n        this.friendUUID\r\n      );\r\n\r\n      WebSocketManager.setupWSAndCreateGameOnOpen(ws, gameCreationBody);\r\n    },\r\n\r\n    handleRandomGameButtonClick() {\r\n      if (!this.isNickNameValid()) return;\r\n\r\n      if (this.isPlaying) {\r\n        UIHandler.showAlert(\r\n          \"Игра уже создана или в процессе создания. Для новой игры необходимо обновить страницу!\",\r\n          \"warning\",\r\n          7000\r\n        );\r\n        return;\r\n      }\r\n      this.isPlaying = true;\r\n      this.clientUUID = uuidv4();\r\n      this.handleGameCreation();\r\n    },\r\n\r\n    handleFriendGameButtonClick() {\r\n      if (!this.isNickNameValid()) return;\r\n\r\n      if (this.isPlaying) {\r\n        UIHandler.showAlert(\r\n          \"Игра уже создана или в процессе создания. Для новой игры необходимо обновить страницу!\",\r\n          \"warning\",\r\n          7000\r\n        );\r\n        return;\r\n      }\r\n      this.isPlaying = true;\r\n      this.gameType = GameType.FRIEND;\r\n      this.clientUUID = uuidv4();\r\n    },\r\n\r\n    handleCreateFriendGameButtonClick() {\r\n      if (!this.friendUUID) {\r\n        UIHandler.showAlert(\"Некорректный id друга\", \"warning\", 5000);\r\n        return;\r\n      }\r\n      this.handleGameCreation();\r\n    },\r\n\r\n    async handlePlayButtonClick(event: Event) {\r\n      if (!this.isPlaying) {\r\n        UIHandler.showAlert(\r\n          \"Игра еще не создана. Выберите тип игры с помощью кнопок выше\",\r\n          \"warning\",\r\n          5000\r\n        );\r\n        return;\r\n      }\r\n\r\n      if (Game.getShips().length === 0) {\r\n        UIHandler.showAlert(\r\n          \"Корабли отсутствуют, необходимо почистить куки и обновить страницу!\"\r\n        );\r\n        return;\r\n      }\r\n\r\n      Game.clearShotHistory();\r\n\r\n      if (!Game.isArrangementCorrect()[0]) {\r\n        UIHandler.showAlert(\"Корабли расставлены некорректно!\");\r\n        return;\r\n      }\r\n\r\n      if (this.getMyState === GameState.GAME_IS_OVER) {\r\n        await this.handlePlayAgain();\r\n        return;\r\n      }\r\n\r\n      GameStore.commit(\"setMyState\", GameState.SHIPS_ARE_ARRANGED);\r\n\r\n      const ws: WebSocket = WebSocketManager.getWebSocket();\r\n      ws.send(\r\n        JSON.stringify({\r\n          msg_type: MessageType.SHIPS_ARE_ARRANGED,\r\n          game_id: GameProcessManager.getGameId(),\r\n        })\r\n      );\r\n\r\n      // Удаляем обработчики событий мыши (Pointer), чтобы игрок не мог менять расстановку кораблей во время игры\r\n      GameStore.dispatch(\"removeOwnGridEventListeners\");\r\n    },\r\n\r\n    async handlePlayAgain() {\r\n      Game.refreshGridAndShips();\r\n      GameStore.commit(\"setMyState\", GameState.SHIPS_POSITIONING);\r\n      GameStore.commit(\"setIsWinner\", false);\r\n      GameStore.commit(\"setEnemyShotHint\", \"\");\r\n      await GameStore.dispatch(\"addOwnGridEventListeners\");\r\n      const ws: WebSocket = WebSocketManager.getWebSocket();\r\n      ws.send(\r\n        JSON.stringify({\r\n          msg_type: MessageType.PLAY_AGAIN,\r\n          game_id: GameProcessManager.getGameId(),\r\n          enemy_client_id: GameProcessManager.getEnemyUUID(),\r\n        })\r\n      );\r\n    },\r\n\r\n    getPlayButtonCaption(): string {\r\n      let caption =\r\n        this.gameType === GameType.RANDOM\r\n          ? \"Играть еще раз с тем же соперником\"\r\n          : \"Играть с другом еще раз\";\r\n\r\n      return this.getMyState === GameState.GAME_IS_OVER ? caption : \"Играть\";\r\n    },\r\n  },\r\n\r\n  beforeRouteLeave(to: any, from: any, next: any) {\r\n    if (this.isPlaying) {\r\n      if (\r\n        !window.confirm(\r\n          \"Игра будет завершена при переходе на другую вкладку. Перейти на другую вкладку ?\"\r\n        )\r\n      ) {\r\n        return;\r\n      } else WebSocketManager.getWebSocket().close();\r\n    }\r\n    next();\r\n  },\r\n\r\n  beforeMount() {\r\n    window.addEventListener(\"beforeunload\", this.preventNavAndUnload);\r\n  },\r\n\r\n  beforeUnmount() {\r\n    window.removeEventListener(\"beforeunload\", this.preventNavAndUnload);\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.alpos {\r\n  bottom: 1rem;\r\n  left: 1rem;\r\n}\r\n\r\n.maxw-400 {\r\n  max-width: 25rem;\r\n}\r\n\r\n.minw-17 {\r\n  min-width: 17rem;\r\n}\r\n</style>","import { vShow as _vShow, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"container\" }\nconst _hoisted_2 = { class: \"d-flex flex-row flex-wrap justify-content-lg-center justify-content-sm-between text-center\" }\nconst _hoisted_3 = { class: \"me-lg-2 mb-4 border border-dark border-2 rounded-3 p-2\" }\nconst _hoisted_4 = { class: \"ms-lg-2 mb-4 border border-dark border-2 rounded-3 p-2\" }\nconst _hoisted_5 = { class: \"blink fw-bold green\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_BattleGridWithCaptionsComponent = _resolveComponent(\"BattleGridWithCaptionsComponent\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"table\", null, [\n          _createElementVNode(\"tbody\", null, [\n            _createElementVNode(\"tr\", null, [\n              _createElementVNode(\"td\", null, [\n                _withDirectives(_createElementVNode(\"span\", {\n                  class: _normalizeClass([{ blink: !_ctx.isMyTurnToShoot }, \"fw-bold darkred\"])\n                }, [\n                  _withDirectives(_createElementVNode(\"span\", null, \"ходит \", 512), [\n                    [_vShow, !_ctx.isMyTurnToShoot]\n                  ]),\n                  _createElementVNode(\"span\", null, _toDisplayString(_ctx.enemyNickname + \" \"), 1),\n                  _withDirectives(_createElementVNode(\"span\", null, _toDisplayString(_ctx.enemyShotHint), 513), [\n                    [_vShow, _ctx.enemyShotHint]\n                  ])\n                ], 2), [\n                  [_vShow, _ctx.turnOrderHintsVisible]\n                ]),\n                _cache[0] || (_cache[0] = _createElementVNode(\"span\", null, \" \", -1))\n              ])\n            ]),\n            _createElementVNode(\"tr\", null, [\n              _createElementVNode(\"td\", null, [\n                _createVNode(_component_BattleGridWithCaptionsComponent)\n              ])\n            ])\n          ])\n        ])\n      ]),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"table\", null, [\n          _createElementVNode(\"tbody\", null, [\n            _createElementVNode(\"tr\", null, [\n              _createElementVNode(\"td\", null, [\n                _withDirectives(_createElementVNode(\"span\", _hoisted_5, \"ваш ход\", 512), [\n                  [_vShow, _ctx.turnOrderHintsVisible & _ctx.isMyTurnToShoot]\n                ]),\n                _cache[1] || (_cache[1] = _createElementVNode(\"span\", null, \" \", -1))\n              ])\n            ]),\n            _createElementVNode(\"tr\", null, [\n              _createElementVNode(\"td\", null, [\n                _createVNode(_component_BattleGridWithCaptionsComponent, { gridType: _ctx.hostileGrid }, null, 8, [\"gridType\"])\n              ])\n            ])\n          ])\n        ])\n      ])\n    ])\n  ]))\n}","<template>\r\n  <div class=\"container\">\r\n    <div\r\n      class=\"d-flex flex-row flex-wrap justify-content-lg-center justify-content-sm-between text-center\"\r\n    >\r\n      <div class=\"me-lg-2 mb-4 border border-dark border-2 rounded-3 p-2\">\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <span\r\n                  v-show=\"turnOrderHintsVisible\"\r\n                  :class=\"{ blink: !isMyTurnToShoot }\"\r\n                  class=\"fw-bold darkred\"\r\n                >\r\n                  <span v-show=\"!isMyTurnToShoot\">ходит </span>\r\n                  <span> {{ enemyNickname + \" \" }} </span\r\n                  ><span v-show=\"enemyShotHint\">{{\r\n                    enemyShotHint\r\n                  }}</span> </span\r\n                ><span>&nbsp;</span>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td><BattleGridWithCaptionsComponent /></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div class=\"ms-lg-2 mb-4 border border-dark border-2 rounded-3 p-2\">\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <span\r\n                  v-show=\"turnOrderHintsVisible & isMyTurnToShoot\"\r\n                  class=\"blink fw-bold green\"\r\n                  >ваш ход</span\r\n                ><span>&nbsp;</span>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <BattleGridWithCaptionsComponent :gridType=\"hostileGrid\" />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport BattleGridWithCaptionsComponent from \"./BattleGridWithCaptionsComponent.vue\";\r\nimport GridType from \"@/model/enums/GridType\";\r\n\r\nexport default defineComponent({\r\n  name: \"BattleBoardComponent\",\r\n\r\n  components: { BattleGridWithCaptionsComponent },\r\n\r\n  props: {\r\n    isMyTurnToShoot: { type: Boolean, default: false },\r\n    turnOrderHintsVisible: { type: Boolean, default: false },\r\n    enemyShotHint: { type: String, default: \"\" },\r\n    enemyNickname: { type: String, default: \"\" },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      hostileGrid: GridType.Hostile,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n\r\n<style lang=\"css\" scoped>\r\n</style>","import { createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, resolveComponent as _resolveComponent, createVNode as _createVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_BattleGridComponent = _resolveComponent(\"BattleGridComponent\")!\n\n  return (_openBlock(), _createElementBlock(\"table\", null, [\n    _createElementVNode(\"tbody\", null, [\n      _createElementVNode(\"tr\", null, [\n        _cache[1] || (_cache[1] = _createElementVNode(\"td\", null, null, -1)),\n        _createElementVNode(\"td\", {\n          style: _normalizeStyle({ width: _ctx.getCanvasWidth + 'px' })\n        }, _cache[0] || (_cache[0] = [\n          _createStaticVNode(\"<table id=\\\"alphabeticTable\\\" data-v-2a081d56><tbody data-v-2a081d56><tr data-v-2a081d56><td data-v-2a081d56>а</td><td data-v-2a081d56>б</td><td data-v-2a081d56>в</td><td data-v-2a081d56>г</td><td data-v-2a081d56>д</td><td data-v-2a081d56>е</td><td data-v-2a081d56>ж</td><td data-v-2a081d56>з</td><td data-v-2a081d56>и</td><td data-v-2a081d56>к</td></tr></tbody></table>\", 1)\n        ]), 4)\n      ]),\n      _createElementVNode(\"tr\", {\n        style: _normalizeStyle({ height: _ctx.getCanvasHeight + 'px' })\n      }, [\n        _cache[2] || (_cache[2] = _createElementVNode(\"td\", { id: \"digitCell\" }, [\n          _createElementVNode(\"table\", { id: \"digitTable\" }, [\n            _createElementVNode(\"tbody\", null, [\n              _createElementVNode(\"tr\", null, [\n                _createElementVNode(\"td\", null, \"1\")\n              ]),\n              _createElementVNode(\"tr\", null, [\n                _createElementVNode(\"td\", null, \"2\")\n              ]),\n              _createElementVNode(\"tr\", null, [\n                _createElementVNode(\"td\", null, \"3\")\n              ]),\n              _createElementVNode(\"tr\", null, [\n                _createElementVNode(\"td\", null, \"4\")\n              ]),\n              _createElementVNode(\"tr\", null, [\n                _createElementVNode(\"td\", null, \"5\")\n              ]),\n              _createElementVNode(\"tr\", null, [\n                _createElementVNode(\"td\", null, \"6\")\n              ]),\n              _createElementVNode(\"tr\", null, [\n                _createElementVNode(\"td\", null, \"7\")\n              ]),\n              _createElementVNode(\"tr\", null, [\n                _createElementVNode(\"td\", null, \"8\")\n              ]),\n              _createElementVNode(\"tr\", null, [\n                _createElementVNode(\"td\", null, \"9\")\n              ]),\n              _createElementVNode(\"tr\", null, [\n                _createElementVNode(\"td\", null, \"10\")\n              ])\n            ])\n          ])\n        ], -1)),\n        _createElementVNode(\"td\", null, [\n          _createVNode(_component_BattleGridComponent, { \"grid-type\": _ctx.gridType }, null, 8, [\"grid-type\"])\n        ])\n      ], 4)\n    ])\n  ]))\n}","<template>\r\n  <table>\r\n    <tbody>\r\n      <tr>\r\n        <td></td>\r\n        <td :style=\"{ width: getCanvasWidth + 'px' }\">\r\n          <table id=\"alphabeticTable\">\r\n            <tbody>\r\n              <tr>\r\n                <td>а</td>\r\n                <td>б</td>\r\n                <td>в</td>\r\n                <td>г</td>\r\n                <td>д</td>\r\n                <td>е</td>\r\n                <td>ж</td>\r\n                <td>з</td>\r\n                <td>и</td>\r\n                <td>к</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </td>\r\n      </tr>\r\n      <tr :style=\"{ height: getCanvasHeight + 'px' }\">\r\n        <td id=\"digitCell\">\r\n          <table id=\"digitTable\">\r\n            <tbody>\r\n              <tr>\r\n                <td>1</td>\r\n              </tr>\r\n              <tr>\r\n                <td>2</td>\r\n              </tr>\r\n              <tr>\r\n                <td>3</td>\r\n              </tr>\r\n              <tr>\r\n                <td>4</td>\r\n              </tr>\r\n              <tr>\r\n                <td>5</td>\r\n              </tr>\r\n              <tr>\r\n                <td>6</td>\r\n              </tr>\r\n              <tr>\r\n                <td>7</td>\r\n              </tr>\r\n              <tr>\r\n                <td>8</td>\r\n              </tr>\r\n              <tr>\r\n                <td>9</td>\r\n              </tr>\r\n              <tr>\r\n                <td>10</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </td>\r\n        <td>\r\n          <BattleGridComponent\r\n            :grid-type=\"gridType\"\r\n          />\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport BattleGridComponent from \"./BattleGridComponent.vue\";\r\nimport { mapGetters } from \"vuex\";\r\nimport GridType from \"@/model/enums/GridType\";\r\n\r\nexport default defineComponent({\r\n  name: \"BattleGridWithCaptionsComponent\",\r\n\r\n  components: { BattleGridComponent },\r\n\r\n  props: {\r\n    gridType: { type: String, default: GridType.Own },\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"getCanvasWidth\", \"getCanvasHeight\"]),\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\ntable,\r\ntr,\r\ntd {\r\n  /* border: 1px solid blue; */\r\n  border-collapse: collapse;\r\n  padding: 0px;\r\n}\r\n\r\n#digitTable > tbody > tr > td {\r\n  padding-top: 3px;\r\n  padding-right: 7px;\r\n}\r\n\r\n#digitCell {\r\n  height: inherit;\r\n}\r\n\r\n#digitTable {\r\n  height: 100%;\r\n}\r\n\r\n#alphabeticTable {\r\n  width: 100%;\r\n}\r\n\r\n#alphabeticTable > tbody > tr > td {\r\n  width: 10%;\r\n  padding-bottom: 5px;\r\n}\r\n</style>","import { createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { ref: \"canvas\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    style: _normalizeStyle({ height: _ctx.getCanvasHeight + 'px' })\n  }, [\n    _createElementVNode(\"canvas\", _hoisted_1, null, 512)\n  ], 4))\n}","<template>\r\n  <div :style=\"{ height: getCanvasHeight + 'px' }\">\r\n    <canvas ref=\"canvas\"></canvas>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport Ship from \"@/model/Ship\";\r\nimport ShipOrientation from \"@/model/enums/ShipOrientation\";\r\nimport { defineComponent } from \"vue\";\r\nimport { mapGetters } from \"vuex\";\r\nimport GridType from \"@/model/enums/GridType\";\r\nimport Location from \"@/model/Location\";\r\nimport Game from \"@/model/Game\";\r\nimport GameStore from \"@/store/index\";\r\nimport HighlightType from \"@/model/enums/HighlightType\";\r\nimport GameProcessManager from \"@/helpers/GameProcessManager\";\r\n\r\nexport default defineComponent({\r\n  name: \"BattleGridComponent\",\r\n\r\n  props: {\r\n    gridType: { type: String, default: GridType.Own },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      selectedShip: <Ship | null>(\r\n        new Ship(1, ShipOrientation.Horizontal, new Location(0, 0))\r\n      ),\r\n      currentTimeStamp: 0,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\"getCanvasWidth\", \"getCanvasHeight\"]),\r\n  },\r\n\r\n  methods: {\r\n    getContext(): CanvasRenderingContext2D | null {\r\n      let canvas = <HTMLCanvasElement>this.$refs.canvas;\r\n      return canvas.getContext(\"2d\");\r\n    },\r\n\r\n    changeShipOrientation(ship: Ship, loc: Location) {\r\n      if (this.crossesBorderWithBackLocation(ship, loc, true)) {\r\n        GameStore.commit(\"setAlert\", {\r\n          alertText:\r\n            \"При изменении положения - этот корабль выйдет за границы сетки. Переместите корабль подальше от границы\",\r\n          alertColor: \"danger\",\r\n        });\r\n        return;\r\n      }\r\n\r\n      ship.changeOrientation();\r\n\r\n      let ctx: CanvasRenderingContext2D | null = this.getContext();\r\n\r\n      if (ctx) {\r\n        Game.drawShips(ctx);\r\n        this.checkArrangementAndHighlight(ctx);\r\n      }\r\n    },\r\n\r\n    handlePointerDown(event: PointerEvent) {\r\n      event.preventDefault();\r\n\r\n      let canvas = <HTMLCanvasElement>this.$refs.canvas;\r\n\r\n      let loc: Location = Location.getLocationByOffsetXY(\r\n        event.offsetX,\r\n        event.offsetY\r\n      );\r\n\r\n      let ship: Ship | undefined = Game.getShipByHeadLocation(loc);\r\n\r\n      if (ship) {\r\n        let timeDelta = Date.now() - this.currentTimeStamp;\r\n        this.currentTimeStamp = Date.now();\r\n        if (timeDelta <= 500) this.changeShipOrientation(ship, loc);\r\n\r\n        this.selectedShip = ship;\r\n        canvas.addEventListener(\"pointermove\", this.handlePointerMove);\r\n      }\r\n    },\r\n\r\n    handlePointerMove(event: PointerEvent) {\r\n      // получаем текущую локацию\r\n      let loc: Location = Location.getLocationByOffsetXY(\r\n        event.offsetX,\r\n        event.offsetY\r\n      );\r\n\r\n      // Если головная локация корабля вышла за рамки грида, то просто выходим из метода\r\n      // и не перемещаем корабль\r\n      if (loc.outsideTheGrid()) return;\r\n\r\n      if (this.selectedShip) {\r\n        // Если корабль пересек границу своей конечной локацией (кормой) - тоже выходим из метода\r\n        if (this.crossesBorderWithBackLocation(this.selectedShip as Ship, loc))\r\n          return;\r\n\r\n        // Если ни головная, ни конечная локации не вышли за границы сетки,\r\n        // то присваиваем выбранному кораблю новую локацию и далее прорисовываем его\r\n        this.selectedShip.location = loc;\r\n        let ctx: CanvasRenderingContext2D | null = this.getContext();\r\n        if (ctx) Game.drawShips(ctx);\r\n      }\r\n    },\r\n\r\n    handlePointerUp(event: PointerEvent) {\r\n      let canvas = <HTMLCanvasElement>this.$refs.canvas;\r\n      let ctx: CanvasRenderingContext2D | null = canvas.getContext(\"2d\");\r\n\r\n      canvas.removeEventListener(\"pointermove\", this.handlePointerMove);\r\n\r\n      this.selectedShip = null;\r\n\r\n      if (ctx) this.checkArrangementAndHighlight(ctx);\r\n    },\r\n\r\n    handleTouchStart(event: TouchEvent) {\r\n      event.preventDefault();\r\n    },\r\n\r\n    async registerOwnGridHandlers() {\r\n      const pointerDownHandler = this.handlePointerDown;\r\n      const pointerMoveHandler = this.handlePointerMove;\r\n      const pointerUpHandler = this.handlePointerUp;\r\n      const touchStartHandler = this.handleTouchStart;\r\n\r\n      GameStore.commit(\"setHandlers\", {\r\n        pointerDownHandler,\r\n        pointerMoveHandler,\r\n        pointerUpHandler,\r\n        touchStartHandler,\r\n      });\r\n\r\n      await GameStore.dispatch(\"addOwnGridEventListeners\");\r\n    },\r\n\r\n    checkArrangementAndHighlight(ctx: CanvasRenderingContext2D): void {\r\n      let res = Game.isArrangementCorrect();\r\n      if (!res[0]) {\r\n        res[1]?.forEach((l) => l.highlight(ctx, HighlightType.SQUARE));\r\n      }\r\n    },\r\n\r\n    crossesBorderWithBackLocation(\r\n      selectedShip: Ship,\r\n      currentMovedLocation: Location,\r\n      isDoubleClickEvent: boolean = false\r\n    ): boolean {\r\n      // Создадим временный корабль\r\n\r\n      let orientation: ShipOrientation = ShipOrientation.Horizontal;\r\n\r\n      if (isDoubleClickEvent) {\r\n        // при проверке на двойной клик - временный корабль нужно создавать\r\n        if (selectedShip.type === ShipOrientation.Horizontal)\r\n          // c ориентацией, противоположной выбранному кораблю\r\n          orientation = ShipOrientation.Vertical;\r\n      } else {\r\n        // иначе - берем такую же, как у выбранного корабля\r\n        orientation = selectedShip.type;\r\n      }\r\n\r\n      let tempShip: Ship = new Ship(\r\n        selectedShip.length,\r\n        orientation,\r\n        currentMovedLocation // локацию нужно передавать отдельно, ее нельзя доставать из selectedShip !!!\r\n      );\r\n\r\n      // получим конечную локацию этого временного корабля\r\n      let allShipLocs = tempShip.getLocations();\r\n      let endLocation = allShipLocs[allShipLocs.length - 1];\r\n\r\n      // возвращаем результат метода outsideTheGrid()\r\n      return endLocation.outsideTheGrid();\r\n    },\r\n  },\r\n\r\n  async mounted() {\r\n    let ctx: CanvasRenderingContext2D | null = this.getContext();\r\n\r\n    if (ctx) {\r\n      ctx.canvas.width = this.getCanvasWidth;\r\n      ctx.canvas.height = this.getCanvasHeight;\r\n\r\n      Game.makeGrid(ctx);\r\n      Game.createInitialShips();\r\n\r\n      if (this.gridType === GridType.Own) {\r\n        Game.getShips().forEach((ship) => {\r\n          ship.draw(ctx);\r\n        });\r\n        // сохраняем ctx в глобальном Store для использования в родительских компонентах\r\n        GameStore.commit(\"setContext2D\", ctx);\r\n        // Добавляем обработчики событий\r\n        await this.registerOwnGridHandlers();\r\n      } else {\r\n        GameStore.commit(\"setContextHostile2D\", ctx);\r\n      }\r\n    }\r\n  },\r\n});\r\n</script>\r\n\r\n\r\n<style lang=\"css\" scoped>\r\ncanvas {\r\n  border: 1px dashed rgb(99, 99, 99);\r\n}\r\n</style>","enum GameState {\r\n    NOT_CREATED = 0,\r\n    SEARCHING_FOR_OPPONENT = 1,\r\n    SHIPS_POSITIONING = 2,\r\n    SHIPS_ARE_ARRANGED = 3,\r\n    PLAYING = 4,\r\n    GAME_IS_OVER = 5,\r\n    WAITING_FOR_FRIEND = 6\r\n}\r\n\r\nexport default GameState","enum GameType {\r\n    RANDOM = 1,\r\n    FRIEND = 2,\r\n    COMPUTER = 3\r\n}\r\n\r\nexport default GameType","enum MessageType {\r\n    GAME_CREATION = 0,\r\n    SHIPS_ARE_ARRANGED = 1,\r\n    PLAY = 2,\r\n    FIRE_REQUEST = 3,\r\n    FIRE_RESPONSE = 4,\r\n    UNSUNK_SHIPS = 5,\r\n    GAME_OVER = 6,\r\n    DISCONNECTION = 7,\r\n    PLAY_AGAIN = 8\r\n}\r\n\r\nexport default MessageType","enum ShipOrientation {\r\n    Horizontal = 0,\r\n    Vertical = 1\r\n}\r\n\r\nexport default ShipOrientation","enum HighlightType {\r\n    CIRCLE = \"Circle\",\r\n    SQUARE = \"Square\",\r\n    CROSS = \"Cross\"\r\n}\r\n\r\nexport default HighlightType","interface Dictionary<T> {\r\n    [key: number]: T\r\n}\r\n\r\n\r\nexport const letterDict: Dictionary<string> = {\r\n    0: \"а\",\r\n    1: \"б\",\r\n    2: \"в\",\r\n    3: \"г\",\r\n    4: \"д\",\r\n    5: \"е\",\r\n    6: \"ж\",\r\n    7: \"з\",\r\n    8: \"и\",\r\n    9: \"к\",\r\n}","import { GameStore } from \"@/store/modules/GameStore\";\r\nimport HighlightType from \"./enums/HighlightType\";\r\nimport { letterDict } from \"@/helpers/LetterDict\";\r\n\r\n\r\nexport default class Location {\r\n    private _x: number;\r\n    private _y: number;\r\n\r\n    constructor(_x: number, _y: number) {\r\n        this._x = _x;\r\n        this._y = _y;\r\n    }\r\n\r\n    public get x(): number {\r\n        return this._x;\r\n    }\r\n    public set x(v: number) {\r\n        this._x = v;\r\n    }\r\n    public get y(): number {\r\n        return this._y;\r\n    }\r\n    public set y(v: number) {\r\n        this._y = v;\r\n    }\r\n\r\n    /**\r\n     * Возвращает локацию по координате игрового поля\r\n     */\r\n    public static getLocationByOffsetXY(offsetX: number, offsetY: number): Location {\r\n\r\n        const st = GameStore.state;\r\n        let gcw: number = GameStore.getters.getGridCellWidth(st);\r\n        let gch: number = GameStore.getters.getGridCellHeight(st);\r\n\r\n        let currentX = Math.floor(offsetX / gcw);\r\n        let currentY = Math.floor(offsetY / gch);\r\n\r\n        return new Location(currentX, currentY);\r\n    }\r\n    /**\r\n     * Подсвечивает на канвасе расположение данной локации\r\n     */\r\n    public async highlight(ctx: CanvasRenderingContext2D | null, highlightType: HighlightType = HighlightType.CIRCLE) {\r\n        if (ctx) {\r\n\r\n            const st = GameStore.state;\r\n            let gcw: number = GameStore.getters.getGridCellWidth(st);\r\n            let gch: number = GameStore.getters.getGridCellHeight(st);\r\n\r\n            ctx.save();\r\n\r\n            if (highlightType === HighlightType.SQUARE) {\r\n                ctx.fillStyle = \"rgb(229 22 35)\";\r\n                ctx.fillRect(this._x * gcw + 3, this._y * gch + 3, gcw - 6, gch - 6);\r\n            }\r\n            else if (highlightType === HighlightType.CIRCLE) {\r\n                ctx.fillStyle = \"rgb(33 22 235)\";\r\n\r\n                const circle = new Path2D();\r\n                let sp = GameStore.state.scaleParameter;\r\n\r\n                circle.arc(this._x * gcw + 0.5 * gcw, this._y * gch + 0.5 * gch, 5 * sp, 0, 2 * Math.PI);\r\n                ctx.fill(circle);\r\n            } else {\r\n                // Рисуем крестик\r\n                ctx.strokeStyle = \"rgb(229 22 35)\";\r\n                ctx.lineWidth = 3;\r\n\r\n                ctx.beginPath();\r\n                ctx.moveTo(this._x * gcw + 5, this._y * gch + 5);\r\n                ctx.lineTo((this._x + 1) * gcw - 5, (this._y + 1) * gch - 5);\r\n\r\n                ctx.moveTo((this._x + 1) * gcw - 5, this._y * gch + 5);\r\n                ctx.lineTo(this._x * gcw + 5, (this._y + 1) * gch - 5);\r\n\r\n                ctx.stroke();\r\n            }\r\n\r\n            ctx.restore();\r\n        }\r\n    }\r\n    /**\r\n     * Возвращает true, если локация находится за пределами сетки, иначе false\r\n     */\r\n    public outsideTheGrid(): boolean {\r\n        return this._x < 0 || this._x > 9 || this._y < 0 || this._y > 9\r\n    }\r\n    /**\r\n     * Возвращает true, если локация валидна, иначе false\r\n     */\r\n    public isValid(): boolean {\r\n        // Бывают случаи, когда игрок делает выстрел по невалидной локации \r\n        // (вне границ сетки, например, по координате а-0)\r\n        return (this._x >= 0 && this._x <= 9 && this._y >= 0 && this._y <= 9)\r\n    }\r\n    /**\r\n     * Возвращает координату в ее текстовом представлении, например (к-7)\r\n     */\r\n    public toString = () => `(${letterDict[this._x]}-${this._y + 1})`;\r\n}","import Ship from \"./Ship\";\r\nimport ShipOrientation from \"./enums/ShipOrientation\";\r\nimport Location from \"./Location\";\r\nimport { GameStore } from \"@/store/modules/GameStore\";\r\n\r\nexport default class Game {\r\n\r\n    private static ships: Ship[];\r\n    private static shotHistory: Location[] = [];\r\n\r\n\r\n    /**\r\n     * Возвращает корабли\r\n     */\r\n    public static getShips(): Ship[] {\r\n        return Game.ships;\r\n    }\r\n    /**\r\n     * createDefaultShips\r\n    */\r\n    public static createInitialShips() {\r\n        Game.ships = [\r\n            new Ship(1, ShipOrientation.Horizontal, new Location(8, 2)),\r\n            new Ship(1, ShipOrientation.Horizontal, new Location(0, 9)),\r\n            new Ship(1, ShipOrientation.Horizontal, new Location(7, 5)),\r\n            new Ship(1, ShipOrientation.Horizontal, new Location(8, 8)),\r\n\r\n            new Ship(2, ShipOrientation.Horizontal, new Location(0, 0)),\r\n            new Ship(2, ShipOrientation.Vertical, new Location(4, 3)),\r\n            new Ship(2, ShipOrientation.Vertical, new Location(1, 2)),\r\n\r\n            new Ship(3, ShipOrientation.Horizontal, new Location(5, 0)),\r\n            new Ship(3, ShipOrientation.Horizontal, new Location(4, 9)),\r\n\r\n            new Ship(4, ShipOrientation.Vertical, new Location(2, 6))\r\n        ]\r\n    }\r\n    /**\r\n     * Очищает канвас, заново рисует сетку и корабли\r\n    */\r\n    public static refreshGridAndShips() {\r\n        const st = GameStore.state;\r\n\r\n        const ctx: CanvasRenderingContext2D = GameStore.getters.getContext2D(st);\r\n        const hostileCtx: CanvasRenderingContext2D = GameStore.getters.getHostileContext2D(st);\r\n\r\n        Game.clearGrid(ctx);\r\n        Game.clearGrid(hostileCtx);\r\n\r\n        Game.makeGrid(ctx);\r\n        Game.makeGrid(hostileCtx);\r\n\r\n        Game.createInitialShips();\r\n\r\n        Game.ships.forEach(s => { s.draw(ctx); });\r\n    }\r\n    /**\r\n     * Очищает канвас\r\n    */\r\n    private static clearGrid(ctx: CanvasRenderingContext2D) {\r\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n    }\r\n    /**\r\n     * Возвращает true, если локация уже существует в истори выстрелов (shotHistory), иначе false\r\n     */\r\n    public static existsInShotHistory(location: Location): boolean {\r\n        return this.containsLocation(location, Game.shotHistory);\r\n    }\r\n    /**\r\n     * Расставляет случайным образом корабли на сетке\r\n     */\r\n    private static createInitialRandomShips() {\r\n\r\n    }\r\n    /**\r\n     * Возвращает true, если корабли расставлены корректно (ни один из них не пересекается со всеми другими),\r\n     * иначе возвращает false и массив с координатами пересечений\r\n     */\r\n    public static isArrangementCorrect(): [boolean, Location[] | undefined] {\r\n\r\n        let intersections: Location[] = [];\r\n\r\n        for (let i = 0; i < Game.ships.length - 1; i++) {\r\n            const outerShip = Game.ships[i];\r\n\r\n            for (let j = i + 1; j < Game.ships.length; j++) {\r\n                const innerShip = Game.ships[j];\r\n                const res = outerShip.isIntersect(innerShip);\r\n                if (res[0])\r\n                    Array.prototype.push.apply(intersections, [res[1], res[2]]);\r\n            };\r\n        };\r\n\r\n        if (intersections.length > 0)\r\n            return [false, intersections];\r\n\r\n        return [true, undefined];\r\n    }\r\n    /**\r\n     * Возвращает корабль по его координатам\r\n     */\r\n    public static getShipByHeadLocation(location: Location): Ship | undefined {\r\n        return Game.ships.find(s => (s.location.x === location.x && s.location.y === location.y));\r\n    }\r\n    /**\r\n     * Возвращает корабль по данной локации\r\n     */\r\n    public static getShipByLocation(location: Location): Ship | undefined {\r\n\r\n        let notDestroyedShips: Ship[] = Game.ships.filter(s => s.hitsNumber < s.length);\r\n\r\n        for (const ship of notDestroyedShips)\r\n            if (Game.containsLocation(location, ship.getLocations()))\r\n                return ship;\r\n\r\n        return undefined;\r\n    }\r\n    /**\r\n     * Рисует сетку на канвесе\r\n     */\r\n    public static makeGrid(ctx: CanvasRenderingContext2D) {\r\n        ctx.save();\r\n        ctx.beginPath();\r\n\r\n        ctx.lineWidth = GameStore.state.gridLineThickness;\r\n        ctx.setLineDash([3, 3]);\r\n\r\n        const st = GameStore.state;\r\n\r\n        let cw: number = GameStore.getters.getCanvasWidth(st);\r\n        let ch: number = GameStore.getters.getCanvasHeight(st);\r\n        let gcw: number = GameStore.getters.getGridCellWidth(st);\r\n        let gch: number = GameStore.getters.getGridCellHeight(st);\r\n\r\n        for (let x = 0; x <= cw; x += gcw) {\r\n            ctx.moveTo(x, 0);\r\n            ctx.lineTo(x, ch);\r\n        };\r\n\r\n        for (let y = 0; y <= ch; y += gch) {\r\n            ctx.moveTo(0, y);\r\n            ctx.lineTo(cw, y);\r\n        };\r\n\r\n        ctx.stroke();\r\n        ctx.restore();\r\n    }\r\n    /**\r\n     * Рисует корабли на канвасе\r\n     */\r\n    public static drawShips(ctx: CanvasRenderingContext2D): void {\r\n        ctx.save();\r\n\r\n        const st = GameStore.state;\r\n        let cw: number = GameStore.getters.getCanvasWidth(st);\r\n        let ch: number = GameStore.getters.getCanvasHeight(st);\r\n\r\n        ctx.clearRect(0, 0, cw, ch);\r\n        this.makeGrid(ctx);\r\n        Game.ships.forEach(ship => ship.draw(ctx));\r\n        ctx.restore();\r\n    }\r\n    /**\r\n    * Возвращает true, если массив locations содержит локацию loc, иначе false\r\n    */\r\n    public static containsLocation(loc: Location, locations: Location[]): boolean {\r\n        for (const l of locations)\r\n            if (l.x === loc.x && l.y === loc.y)\r\n                return true;\r\n        return false;\r\n    }\r\n    /**\r\n     * Возвращает соседние диагональные локации по отношению к данной\r\n     */\r\n    public static getDiagonalLocations(location: Location): Location[] {\r\n\r\n        let diagonalLocs: Location[] = [];\r\n\r\n        for (let i = -1; i <= 1; i++) {\r\n            for (let j = -1; j <= 1; j++) {\r\n\r\n                let neighborX = location.x + i;\r\n                let neighborY = location.y + j;\r\n\r\n                if (i === 0 || j === 0 || neighborX < 0 || neighborY < 0 || neighborX > 9 || neighborY > 9)\r\n                    continue;\r\n\r\n                diagonalLocs.push(new Location(neighborX, neighborY));\r\n            }\r\n        }\r\n\r\n        return diagonalLocs;\r\n    }\r\n    /**\r\n     * Возвращает true, если все корабли потоплены, иначе false\r\n     */\r\n    public static allShipsAreSunk(): boolean {\r\n        return Game.ships.every(ship => ship.length === ship.hitsNumber);\r\n    }\r\n    /**\r\n     * Подсвечивает диагональные локации и, если нужно, добавляет их в историю выстрелов\r\n     */\r\n    public static async highlightDiagonals(\r\n        ctx: CanvasRenderingContext2D,\r\n        diagonals: Location[]\r\n    ) {\r\n        for (const loc of diagonals)\r\n            await loc.highlight(ctx);\r\n    }\r\n    /**\r\n     * Добавляет локацию в историю выстрелов\r\n     */\r\n    public static addToShotHistory(shot: Location) {\r\n        if (!Game.containsLocation(shot, Game.shotHistory))\r\n            Game.shotHistory.push(shot);\r\n    }\r\n    /**\r\n     * Очищает историю выстрелов\r\n     */\r\n    public static async clearShotHistory() {\r\n        Game.shotHistory = [];\r\n    }\r\n}","import { GameCreationBodyType } from \"@/model/WSDataTransferRoot\";\r\nimport GameProcessManager from \"./GameProcessManager\";\r\n\r\nexport default class WebSocketManager {\r\n\r\n    private static ws: WebSocket;\r\n    // private static readonly WS_SERVER_HOST: string = \"192.168.0.12\";\r\n    private static readonly WS_SERVER_HOST: string = \"91.245.227.98\";\r\n    private static readonly WS_SERVER_PORT: number = 5000;\r\n\r\n    public static createWebSocket(clientUUID: string): WebSocket {\r\n\r\n        let host = WebSocketManager.WS_SERVER_HOST;\r\n        let port = WebSocketManager.WS_SERVER_PORT;\r\n\r\n        let socket: WebSocket = new WebSocket(`ws://${host}:${port}/client/${clientUUID}/ws`);\r\n\r\n        return socket;\r\n    }\r\n    public static setupWSAndCreateGameOnOpen(ws: WebSocket, gameCreationBody: GameCreationBodyType) {\r\n\r\n        ws.onopen = function (event) {\r\n            console.log(\"Opening a connection...\");\r\n            WebSocketManager.ws = ws;\r\n            ws.send(JSON.stringify(gameCreationBody));\r\n            console.log(\"Successfully connected to the websocket server\");\r\n        };\r\n\r\n        ws.onmessage = async function (event: MessageEvent<string>) {\r\n            await GameProcessManager.processData(event.data);\r\n        };\r\n\r\n        ws.onerror = function (event: Event) {\r\n            console.log(\"Connection error\");\r\n        };\r\n        \r\n        ws.onclose = function (event: CloseEvent) {\r\n            if (event.wasClean) {\r\n                console.log(\"Connection closed correctly\");\r\n            } else {\r\n                console.error(\"The connection was broken\");\r\n            }\r\n        };\r\n    }\r\n    public static getWebSocket(): WebSocket {\r\n        return WebSocketManager.ws;\r\n    }\r\n}","enum ShotResult {\r\n    MISS = 1,\r\n    HIT = 2,\r\n    SUNK = 3\r\n}\r\n\r\nexport default ShotResult","import GameStore from \"@/store/index\";\r\n\r\nexport default class UIHandler {\r\n\r\n    public static async showAlert(\r\n        alertText: string,\r\n        alertColor: string = \"danger\",\r\n        delay: number = 3000\r\n    ) {\r\n        GameStore.commit(\"setAlert\", { alertText, alertColor });\r\n        setTimeout(UIHandler.hideAlert, delay);\r\n    }\r\n    private static hideAlert() {\r\n        GameStore.commit(\"hideAlert\");\r\n    }\r\n}","import GameState from \"@/model/enums/GameState\";\r\nimport GameType from \"@/model/enums/GameType\";\r\nimport MessageType from \"@/model/enums/MessageType\";\r\nimport Game from \"@/model/Game\";\r\nimport Location from \"@/model/Location\";\r\nimport { FireResponseType, GameCreationBodyType, ShipType, TransferLevel2Type, UnSunkShipsType, WSDataTransferRootType } from \"@/model/WSDataTransferRoot\";\r\nimport GameStore from \"@/store/index\";\r\nimport WebSocketManager from \"./WebSocketManager\";\r\nimport HighlightType from \"@/model/enums/HighlightType\";\r\nimport ShotResult from \"@/model/enums/ShotResult\";\r\nimport Ship from \"@/model/Ship\";\r\nimport UIHandler from \"@/helpers/UIHandler\";\r\n\r\nexport default class GameProcessManager {\r\n\r\n    private static currentShot: Location;\r\n    private static enemyClientUuid: string;\r\n    private static gameId: string;\r\n\r\n    public static getEnemyUUID() {\r\n        return GameProcessManager.enemyClientUuid;\r\n    }\r\n    public static getGameId() {\r\n        return GameProcessManager.gameId;\r\n    }\r\n    public static async processData(dataFromServer: string) {\r\n        // console.log('Data from server was received: ', dataFromServer);\r\n\r\n        let parsedData: WSDataTransferRootType = JSON.parse(dataFromServer);\r\n\r\n        switch (parsedData.msg_type) {\r\n            case MessageType.GAME_CREATION:\r\n                console.log('MessageType.GAME_CREATION data:', parsedData);\r\n                if (parsedData.is_status_ok)\r\n                    GameProcessManager.processGameCreation(parsedData.data);\r\n                break;\r\n\r\n            case MessageType.SHIPS_ARE_ARRANGED:\r\n                console.log('MessageType.SHIPS_ARE_ARRANGED data:', parsedData);\r\n                if (parsedData.is_status_ok)\r\n                    GameProcessManager.processShipArrangement(parsedData.data);\r\n                break;\r\n\r\n            case MessageType.PLAY:\r\n                console.log('MessageType.PLAY data:', parsedData);\r\n                if (parsedData.is_status_ok)\r\n                    await GameProcessManager.processStartingToPlay(parsedData.data);\r\n                break;\r\n\r\n            case MessageType.FIRE_REQUEST:\r\n                console.log('MessageType.FIRE_REQUEST data:', parsedData);\r\n                if (parsedData.is_status_ok)\r\n                    await GameProcessManager.processFireRequest(parsedData.data);\r\n                break;\r\n\r\n            case MessageType.FIRE_RESPONSE:\r\n                console.log('MessageType.FIRE_RESPONSE data:', parsedData);\r\n                if (parsedData.is_status_ok)\r\n                    await GameProcessManager.processFireResponse(parsedData.data);\r\n                break;\r\n\r\n            case MessageType.GAME_OVER:\r\n                console.log('MessageType.GAME_OVER data:', parsedData);\r\n                if (parsedData.is_status_ok)\r\n                    await GameProcessManager.processGameOver(parsedData.data);\r\n                break;\r\n\r\n            case MessageType.UNSUNK_SHIPS:\r\n                console.log('MessageType.UNSUNK_SHIPS data:', parsedData);\r\n                if (parsedData.is_status_ok)\r\n                    await GameProcessManager.processUnsunkShips(parsedData.data);\r\n                break;\r\n\r\n            case MessageType.DISCONNECTION:\r\n                console.log('MessageType.DISCONNECTION data:', parsedData);\r\n                if (parsedData.is_status_ok)\r\n                    await GameProcessManager.processDisconnection(parsedData.data);\r\n                break;\r\n\r\n            case MessageType.PLAY_AGAIN:\r\n                console.log('MessageType.PLAY_AGAIN data:', parsedData);\r\n                if (parsedData.is_status_ok)\r\n                    await GameProcessManager.processPlayAgain(parsedData.data);\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    public static getGameCreationBody(gameType: GameType, nickName: string, enemy_client_id: string = \"\"): GameCreationBodyType {\r\n\r\n        const gameCreationBody: GameCreationBodyType = {\r\n            msg_type: MessageType.GAME_CREATION,\r\n            game_type: gameType,\r\n            nickName: nickName,\r\n        };\r\n\r\n        if (gameType === GameType.FRIEND && enemy_client_id)\r\n            gameCreationBody.enemy_client_id = enemy_client_id;\r\n\r\n        return gameCreationBody;\r\n    }\r\n    public static processGameCreation(data: TransferLevel2Type) {\r\n        GameProcessManager.gameId = data.gameId;\r\n        GameStore.commit(\"setMyState\", GameState.SHIPS_POSITIONING);\r\n        GameStore.commit(\"setEnemyState\", GameState.SHIPS_POSITIONING);\r\n        GameStore.commit(\"setEnemyNickname\", data.enemy_nickname);\r\n    }\r\n    private static processShipArrangement(data: TransferLevel2Type) {\r\n        GameStore.commit(\"setEnemyState\", GameState.SHIPS_ARE_ARRANGED);\r\n        GameProcessManager.enemyClientUuid = data.enemy_client_id;\r\n    }\r\n    private static async processStartingToPlay(data: TransferLevel2Type) {\r\n        GameStore.commit(\"setEnemyState\", GameState.PLAYING);\r\n        GameStore.commit(\"setMyState\", GameState.PLAYING);\r\n        GameStore.commit(\"setMyTurnToShoot\", data.turn_to_shoot);\r\n\r\n        if (data.turn_to_shoot) await GameStore.dispatch(\"enableShooting\");\r\n    }\r\n    private static async processFireRequest(data: TransferLevel2Type) {\r\n\r\n        let shot: Location = new Location(\r\n            data.shot_location._x,\r\n            data.shot_location._y\r\n        );\r\n\r\n        let ht: HighlightType = HighlightType.CIRCLE;\r\n\r\n        let ctx = GameStore.getters.getContext2D;\r\n\r\n        let fireResponse: FireResponseType = {\r\n            msg_type: MessageType.FIRE_RESPONSE,\r\n            shot_result: ShotResult.MISS,\r\n            enemy_client_id: GameProcessManager.enemyClientUuid,\r\n        };\r\n\r\n        let ship: Ship | undefined = Game.getShipByLocation(shot);\r\n\r\n        // если наш корабль ранили\r\n        if (ship) {\r\n            ht = HighlightType.CROSS; // меняем тип выделения на \"крест\"\r\n            ship.hitsNumber++; // увеличиваем счетчик ранений у подбитого корабля\r\n\r\n            // находим диагональные локации\r\n            let diags: Location[] = Game.getDiagonalLocations(shot);\r\n            // подсвечиваем диагональные локации\r\n            await Game.highlightDiagonals(ctx, diags);\r\n\r\n            // если корабль только ранен\r\n            if (ship.hitsNumber < ship.length) {\r\n                fireResponse.shot_result = ShotResult.HIT;\r\n            } else {\r\n                // если корабль потоплен\r\n                fireResponse.shot_result = ShotResult.SUNK;\r\n\r\n                // формируем подбитый корабль\r\n                let ss: ShipType = {\r\n                    length: ship.length,\r\n                    loc: { _x: ship.location.x, _y: ship.location.y },\r\n                    type: ship.type,\r\n                };\r\n\r\n                fireResponse.sunkShip = ss;\r\n                // находим боковые локации\r\n                let edgeLocs = await Ship.getFrontAndBackLocations(\r\n                    ss.length,\r\n                    ss.loc._x,\r\n                    ss.loc._y,\r\n                    ss.type\r\n                );\r\n\r\n                // выделяем их на своем гриде\r\n                for (const loc of edgeLocs) await loc.highlight(ctx);\r\n\r\n                // Если все корабли потоплены, даем знать об этом противнику. Игра окончена!\r\n                if (Game.allShipsAreSunk()) {\r\n                    GameStore.commit(\"setMyState\", GameState.GAME_IS_OVER);\r\n                    GameStore.commit(\"setEnemyState\", GameState.GAME_IS_OVER);\r\n                    // Отправляем сопернику информацию о завершение игры с типом сообщения GAME_OVER\r\n                    const ws: WebSocket = WebSocketManager.getWebSocket();\r\n                    ws.send(\r\n                        JSON.stringify({\r\n                            msg_type: MessageType.GAME_OVER,\r\n                            enemy_client_id: GameProcessManager.enemyClientUuid,\r\n                        })\r\n                    );\r\n                }\r\n            }\r\n            await GameStore.dispatch(\"disableShooting\");\r\n        } else await GameStore.dispatch(\"enableShooting\");\r\n\r\n        await shot.highlight(ctx, ht);\r\n\r\n        // Отправляем сопернику информацию о попадании (мимо/ранил/потоплен)\r\n        // с типом сообщения FIRE_RESPONSE\r\n        const ws: WebSocket = WebSocketManager.getWebSocket();\r\n        ws.send(JSON.stringify(fireResponse));\r\n\r\n        GameStore.commit(\"setEnemyShotHint\", shot.toString());\r\n    }\r\n    private static async processFireResponse(data: TransferLevel2Type) {\r\n        let hostileCtx = GameStore.getters.getHostileContext2D;\r\n\r\n        let shot: Location = GameProcessManager.currentShot;\r\n        Game.addToShotHistory(shot);\r\n\r\n        if (data.shot_result === ShotResult.MISS) {\r\n            // Если промахнулись\r\n            await shot.highlight(hostileCtx);\r\n            GameStore.commit(\"setEnemyShotHint\", \"\");\r\n            await GameStore.dispatch(\"disableShooting\");\r\n        } else {\r\n            // если попали (ранили), то\r\n            // подсвечиваем локацию на вражеском гриде\r\n            await shot.highlight(hostileCtx, HighlightType.CROSS);\r\n            // находим диагональные локации\r\n            let diags: Location[] = Game.getDiagonalLocations(shot);\r\n            // подсвечиваем диагональные локации\r\n            await Game.highlightDiagonals(hostileCtx, diags);\r\n            // добавляем диагональные локации в историю выстрелов\r\n            for (const loc of diags) Game.addToShotHistory(loc);\r\n\r\n            // если от соперника пришла информация, что корабль потоплен\r\n            if (data.shot_result === ShotResult.SUNK) {\r\n                let sunkShip = data.sunkShip;\r\n                if (sunkShip) {\r\n                    // находим боковые локации\r\n                    let edgeLocs = await Ship.getFrontAndBackLocations(\r\n                        sunkShip.length,\r\n                        sunkShip.loc._x,\r\n                        sunkShip.loc._y,\r\n                        sunkShip.type\r\n                    );\r\n\r\n                    // выделяем их на гриде соперника\r\n                    for (const loc of edgeLocs) await loc.highlight(hostileCtx);\r\n                    // и добавляем в историю выстрелов\r\n                    for (const loc of edgeLocs) Game.addToShotHistory(loc);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    private static async processGameOver(data: TransferLevel2Type) {\r\n        GameStore.commit(\"setMyState\", GameState.GAME_IS_OVER);\r\n        GameStore.commit(\"setEnemyState\", GameState.GAME_IS_OVER);\r\n        GameStore.commit(\"setIsWinner\", true);\r\n\r\n        await GameStore.dispatch(\"disableShooting\");\r\n        // Отправим сопернику информацию о непотопленных кораблях\r\n        await this.sendUnsunkShipsToEnemy();\r\n    }\r\n    private static async processUnsunkShips(data: TransferLevel2Type) {\r\n        let unsunkShips: Ship[] = data.unSunkShips.map(\r\n            (s) =>\r\n                new Ship(s.length, s.type, new Location(s.loc._x, s.loc._y))\r\n        );\r\n\r\n        // Покажем где у соперника остались непотопленные корабли\r\n        let hostileCtx = GameStore.getters.getHostileContext2D;\r\n        unsunkShips.forEach((ship) => ship.draw(hostileCtx, \"red\"));\r\n    }\r\n    private static async processDisconnection(data: TransferLevel2Type) {\r\n        UIHandler.showAlert(\r\n            \"К сожалению, ваш соперник разорвал соединение и вышел из игры. Обновите страницу для новой игры\",\r\n            \"danger\",\r\n            10000\r\n        );\r\n        GameStore.commit(\"setMyState\", GameState.NOT_CREATED);\r\n        GameStore.commit(\"setEnemyState\", GameState.NOT_CREATED);\r\n    }\r\n    private static async processPlayAgain(data: TransferLevel2Type) {\r\n        UIHandler.showAlert(\r\n            \"Соперник хочет сыграть с Вами снова\",\r\n            \"success\",\r\n            15000\r\n        );\r\n        GameStore.commit(\"setEnemyState\", GameState.SHIPS_POSITIONING);\r\n    }\r\n\r\n    public static handleHostileGridClick(event: MouseEvent) {\r\n        let shotLocation: Location = Location.getLocationByOffsetXY(\r\n            event.offsetX,\r\n            event.offsetY\r\n        );\r\n\r\n        if (!shotLocation.isValid()) return;\r\n\r\n        if (Game.existsInShotHistory(shotLocation)) {\r\n            UIHandler.showAlert(\"Вы уже стреляли сюда\", \"warning\");\r\n            return;\r\n        }\r\n\r\n        GameProcessManager.currentShot = shotLocation;\r\n\r\n        const ws: WebSocket = WebSocketManager.getWebSocket();\r\n\r\n        ws.send(\r\n            JSON.stringify({\r\n                msg_type: MessageType.FIRE_REQUEST,\r\n                shot_location: shotLocation,\r\n                enemy_client_id: GameProcessManager.enemyClientUuid,\r\n            })\r\n        );\r\n    }\r\n    private static async sendUnsunkShipsToEnemy() {\r\n        const ws: WebSocket = WebSocketManager.getWebSocket();\r\n\r\n        let unsunkShipsResp: UnSunkShipsType = {\r\n            msg_type: MessageType.UNSUNK_SHIPS,\r\n            enemy_client_id: GameProcessManager.enemyClientUuid,\r\n            unSunkShips: [],\r\n        };\r\n\r\n        let unSunkShips: Ship[] = Game.getShips().filter(\r\n            (s) => s.hitsNumber < s.length\r\n        );\r\n\r\n        for (const ship of unSunkShips) {\r\n            unsunkShipsResp.unSunkShips.push({\r\n                loc: { _x: ship.location.x, _y: ship.location.y },\r\n                length: ship.length,\r\n                type: ship.type,\r\n            });\r\n        }\r\n\r\n        ws.send(JSON.stringify(unsunkShipsResp));\r\n    }\r\n}","import GameProcessManager from \"@/helpers/GameProcessManager\";\r\nimport GameState from \"@/model/enums/GameState\";\r\n\r\nexport const GameStore = {\r\n    state: {\r\n        scaleParameter: 0.9,\r\n        gridLineThickness: 0.3,\r\n        canvasWidth: 300,\r\n        canvasHeight: 300,\r\n        numberOfCellsOnTheAxisX: 10,\r\n        numberOfCellsOnTheAxisY: 10,\r\n        context2D: CanvasRenderingContext2D,\r\n        hostileContext2D: CanvasRenderingContext2D,\r\n        handlers: {\r\n            pointerDownHandler: Function,\r\n            pointerMoveHandler: Function,\r\n            pointerUpHandler: Function,\r\n            touchStartHandler: Function\r\n        },\r\n        alert: {\r\n            alertVisible: false,\r\n            alertText: \"\",\r\n            alertColor: \"danger\",\r\n        },\r\n        myState: GameState.NOT_CREATED,\r\n        enemyState: GameState.NOT_CREATED,\r\n        enemyNickname: \"\",\r\n        enemyClientUuid: \"\",\r\n        isMyTurnToShoot: false,\r\n        enemyShotHint: \"\",\r\n        isWinner: false\r\n    },\r\n    getters: {\r\n        getCanvasWidth(state: any) {\r\n            return state.canvasWidth * state.scaleParameter;\r\n        },\r\n        getCanvasHeight(state: any) {\r\n            return state.canvasHeight * state.scaleParameter;\r\n        },\r\n        getGridCellWidth(state: any) {\r\n            return state.canvasWidth * state.scaleParameter / state.numberOfCellsOnTheAxisX;\r\n        },\r\n        getGridCellHeight(state: any) {\r\n            return state.canvasHeight * state.scaleParameter / state.numberOfCellsOnTheAxisY;\r\n        },\r\n        getContext2D(state: any) {\r\n            return state.context2D;\r\n        },\r\n        getHostileContext2D(state: any) {\r\n            return state.hostileContext2D;\r\n        },\r\n        getAlert(state: any) {\r\n            return state.alert;\r\n        },\r\n        getMyState(state: any) {\r\n            return state.myState;\r\n        },\r\n        getEnemyNickname(state: any) {\r\n            return state.enemyNickname;\r\n        },\r\n        getEnemyState(state: any) {\r\n            return state.enemyState;\r\n        },\r\n        getEnemyClientUuid(state: any) {\r\n            return state.enemyClientUuid;\r\n        },\r\n        getIsMyTurnToShoot(state: any) {\r\n            return state.isMyTurnToShoot;\r\n        },\r\n        getEnemyShotHint(state: any) {\r\n            return state.enemyShotHint;\r\n        },\r\n        getIsWinner(state: any) {\r\n            return state.isWinner;\r\n        },\r\n    },\r\n    mutations: {\r\n        setContext2D(state: any, ctx: any) {\r\n            state.context2D = ctx;\r\n        },\r\n        setContextHostile2D(state: any, ctx: any) {\r\n            state.hostileContext2D = ctx;\r\n        },\r\n        setHandlers(state: any, payload: any) {\r\n            const { pointerDownHandler, pointerMoveHandler, pointerUpHandler, touchStartHandler } = payload;\r\n            state.handlers.pointerDownHandler = pointerDownHandler;\r\n            state.handlers.pointerMoveHandler = pointerMoveHandler;\r\n            state.handlers.pointerUpHandler = pointerUpHandler;\r\n            state.handlers.touchStartHandler = touchStartHandler;\r\n        },\r\n        setAlert(state: any, { alertText, alertColor }: any) {\r\n            state.alert.alertVisible = true;\r\n            state.alert.alertColor = alertColor;\r\n            state.alert.alertText = alertText;\r\n        },\r\n        hideAlert(state: any) {\r\n            state.alert.alertVisible = false;\r\n        },\r\n        setMyState(state: any, myState: number) {\r\n            state.myState = myState;\r\n        },\r\n        setEnemyState(state: any, enemyState: number) {\r\n            state.enemyState = enemyState;\r\n        },\r\n        setEnemyNickname(state: any, enemyNickname: string) {\r\n            state.enemyNickname = enemyNickname;\r\n        },\r\n        setEnemyClientUuid(state: any, enemyClientUuid: string) {\r\n            state.enemyClientUuid = enemyClientUuid;\r\n        },\r\n        setMyTurnToShoot(state: any, isMyTurnToShoot: boolean) {\r\n            state.isMyTurnToShoot = isMyTurnToShoot;\r\n        },\r\n        setEnemyShotHint(state: any, enemyShotHint: string) {\r\n            state.enemyShotHint = enemyShotHint;\r\n        },\r\n        setIsWinner(state: any, isWinner: boolean) {\r\n            state.isWinner = isWinner;\r\n        },\r\n    },\r\n    actions: {\r\n        async addOwnGridEventListeners({ state }: any) {\r\n            const canvas = (state.context2D as unknown as CanvasRenderingContext2D).canvas;\r\n            canvas.addEventListener(\"pointerdown\", state.handlers.pointerDownHandler);\r\n            canvas.addEventListener(\"pointermove\", state.handlers.pointerMoveHandler);\r\n            canvas.addEventListener(\"pointerup\", state.handlers.pointerUpHandler);\r\n            canvas.addEventListener(\"touchstart\", state.handlers.touchStartHandler);\r\n        },\r\n\r\n        async removeOwnGridEventListeners({ state }: any) {\r\n            const canvas = (state.context2D as unknown as CanvasRenderingContext2D).canvas;\r\n            canvas.removeEventListener(\"pointerdown\", state.handlers.pointerDownHandler);\r\n            canvas.removeEventListener(\"pointermove\", state.handlers.pointerMoveHandler);\r\n            canvas.removeEventListener(\"pointerup\", state.handlers.pointerUpHandler);\r\n            canvas.removeEventListener(\"touchstart\", state.handlers.touchStartHandler);\r\n        },\r\n        async enableShooting({ commit, state }: any) {\r\n            const canvas = (state.hostileContext2D as unknown as CanvasRenderingContext2D).canvas;\r\n            canvas.addEventListener(\"click\", GameProcessManager.handleHostileGridClick);\r\n            commit(\"setMyTurnToShoot\", true);\r\n        },\r\n        async disableShooting({ commit, state }: any) {\r\n            const canvas = (state.hostileContext2D as unknown as CanvasRenderingContext2D).canvas;\r\n            canvas.removeEventListener(\"click\", GameProcessManager.handleHostileGridClick);\r\n            commit(\"setMyTurnToShoot\", false);\r\n        }\r\n    }\r\n}","export const CaptionStore = {\r\n    state: {\r\n        rusCaptions: {\r\n            loserHeader: \"Поражение!\",\r\n            winnerHeader: \"Победа!\",\r\n            loserText: \"Ваш соперник оказался сильнее! Но не отчаивайтесь, попробуйте еще раз!\",\r\n            winnerText: \"Поздравляю, противник повержен. Вы выиграли этот бой!\"\r\n        }\r\n    },\r\n    getters: {\r\n        getCaptions(state: any) {\r\n            return state.rusCaptions;\r\n        }\r\n    },\r\n    mutations: {\r\n\r\n    },\r\n    actions: {\r\n\r\n    }\r\n}\r\n","import { createStore } from 'vuex'\r\nimport { GameStore } from './modules/GameStore'\r\nimport { CaptionStore } from './modules/CaptionStore'\r\n\r\nexport default createStore({\r\n    state: {},\r\n    getters: {},\r\n    mutations: {},\r\n    actions: {},\r\n    modules: {\r\n        GameStore, CaptionStore\r\n    }\r\n})\r\n","enum GridType {\r\n    Own = \"OWN\",\r\n    Hostile = \"HOSTILE\"\r\n}\r\n\r\nexport default GridType","import GameStore from \"@/store/index\";\r\nimport Location from \"./Location\";\r\nimport ShipOrientation from \"./enums/ShipOrientation\";\r\n\r\n\r\nexport default class Ship {\r\n    private _length: number;\r\n    private _type: ShipOrientation;\r\n    private _location: Location;\r\n    private _hitsNumber: number;\r\n\r\n    constructor(_length: number, _type: ShipOrientation, _location: Location) {\r\n        this._length = _length;\r\n        this._type = _type;\r\n        this._location = _location;\r\n        this._hitsNumber = 0;\r\n    }\r\n\r\n    public get length(): number {\r\n        return this._length;\r\n    }\r\n    public set length(v: number) {\r\n        this._length = v;\r\n    }\r\n\r\n    public get type(): ShipOrientation {\r\n        return this._type;\r\n    }\r\n    public set type(v: ShipOrientation) {\r\n        this._type = v;\r\n    }\r\n\r\n    public get location(): Location {\r\n        return this._location;\r\n    }\r\n    public set location(v: Location) {\r\n        this._location = v;\r\n    }\r\n\r\n    public get hitsNumber(): number {\r\n        return this._hitsNumber;\r\n    }\r\n    public set hitsNumber(v: number) {\r\n        this._hitsNumber = v;\r\n    }\r\n\r\n    /**\r\n     * Рисует корабль\r\n     */\r\n    public draw(ctx: CanvasRenderingContext2D | null, strokeColor: string = \"black\") {\r\n\r\n        let rectangleWidth, rectangleHeight: number;\r\n\r\n        if (ctx) {\r\n            ctx.save();\r\n            ctx.strokeStyle = strokeColor;\r\n            ctx.lineWidth = 2;\r\n\r\n            let gcw: number = GameStore.getters.getGridCellWidth;\r\n            let gch: number = GameStore.getters.getGridCellHeight;\r\n\r\n            if (this._type === ShipOrientation.Horizontal) {\r\n                rectangleWidth = this._length * gcw;\r\n                rectangleHeight = gch;\r\n\r\n            } else {\r\n                rectangleWidth = gcw;\r\n                rectangleHeight = this._length * gch;\r\n            };\r\n\r\n            this.drawBulkhead(ctx);\r\n\r\n            ctx.strokeRect(this._location.x * gcw + 1, this._location.y * gch + 1, rectangleWidth - 2, rectangleHeight - 2);\r\n            ctx.restore();\r\n        }\r\n    }\r\n    /**\r\n     * Рисует перемычки корабля\r\n     */\r\n    private drawBulkhead(ctx: CanvasRenderingContext2D | null) {\r\n        if (ctx) {\r\n            ctx.beginPath();\r\n            for (let i = 1; i < this._length; i++) {\r\n\r\n                let gcw: number = GameStore.getters.getGridCellWidth;\r\n                let gch: number = GameStore.getters.getGridCellHeight;\r\n\r\n                let x0 = this._location.x * gcw;\r\n                let y0 = this._location.y * gch;\r\n\r\n                if (this._type === ShipOrientation.Horizontal) {\r\n                    ctx.moveTo(x0 + i * gcw, y0);\r\n                    ctx.lineTo(x0 + i * gcw, y0 + gch);\r\n                }\r\n                else /* if (this._type === ShipType.Vertical) */ {\r\n                    ctx.moveTo(x0, y0 + i * gch);\r\n                    ctx.lineTo(x0 + gcw, y0 + i * gch);\r\n                }\r\n\r\n            };\r\n            ctx.stroke();\r\n        }\r\n    }\r\n    /**\r\n     * Меняет тип корабля\r\n     */\r\n    public changeOrientation() {\r\n        if (this._type === ShipOrientation.Horizontal)\r\n            this._type = ShipOrientation.Vertical;\r\n        else\r\n            this._type = ShipOrientation.Horizontal;\r\n    }\r\n    /**\r\n     * Возвращает множество координат (локаций), принадлежащих данному кораблю\r\n     */\r\n    public getLocations(): Location[] {\r\n        // Сразу добавляем координату первой (головной) клетки корабля\r\n        // т.к. она будет общей как для горизонтального, так и для вертикального корабля\r\n        let locations: Location[] = [this._location];\r\n\r\n        if (this._type === ShipOrientation.Horizontal)\r\n            for (let i = 1; i < this._length; i++)\r\n                locations.push(new Location(this._location.x + i, this._location.y));\r\n        else\r\n            for (let i = 1; i < this._length; i++)\r\n                locations.push(new Location(this._location.x, this._location.y + i));\r\n\r\n        return locations;\r\n    }\r\n    /**\r\n     * Возвращает торцевые локации корабля (в случае потопления корабля их необходимо подсветить)\r\n     */\r\n    public static async getFrontAndBackLocations(length: number, loc_x: number, loc_y: number, shipType: number) {\r\n        let locs: Location[] = [];\r\n\r\n        if (length === 1) {\r\n            // если корабль однопалубный, то возвращаем смежные (недиагональные) локации\r\n            for (let i = -1; i <= 1; i++)\r\n                for (let j = -1; j <= 1; j++) {\r\n\r\n                    let neighborX = loc_x + i;\r\n                    let neighborY = loc_y + j;\r\n\r\n                    // проверка, что локации НЕдиагональные и не выходят за рамки грида\r\n                    if ((i * i + j * j !== 1) || neighborX < 0 || neighborY < 0 || neighborX > 9 || neighborY > 9)\r\n                        continue;\r\n\r\n                    locs.push(new Location(neighborX, neighborY));\r\n                }\r\n        }\r\n        else {\r\n\r\n            if (shipType === ShipOrientation.Horizontal) {\r\n                let leftLoc = new Location(loc_x - 1, loc_y);\r\n                let rightLoc = new Location(loc_x + length, loc_y);\r\n\r\n                if (leftLoc.x >= 0) locs.push(leftLoc);\r\n                if (rightLoc.x <= 9) locs.push(rightLoc);\r\n            }\r\n            else {\r\n                let topLoc = new Location(loc_x, loc_y - 1);\r\n                let bottomLoc = new Location(loc_x, loc_y + length);\r\n\r\n                if (topLoc.y >= 0) locs.push(topLoc);\r\n                if (bottomLoc.y <= 9) locs.push(bottomLoc);\r\n            }\r\n        }\r\n        return locs;\r\n    }\r\n    /**\r\n     * Возвращает true и координаты пересечений обоих кораблей, если данный корабль пересекается с кораблем ship, иначе возвращает false\r\n     */\r\n    public isIntersect(ship: Ship): [boolean, Location | undefined, Location | undefined] {\r\n        for (const loc1 of this.getLocations())\r\n            for (const loc2 of ship.getLocations())\r\n                if (Math.abs(loc1.x - loc2.x) <= 1 && Math.abs(loc1.y - loc2.y) <= 1)\r\n                    return [true, loc1, loc2];\r\n\r\n        return [false, undefined, undefined];\r\n    }\r\n}","import { render } from \"./BattleGridComponent.vue?vue&type=template&id=17a9eb54&scoped=true&ts=true\"\nimport script from \"./BattleGridComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./BattleGridComponent.vue?vue&type=script&lang=ts\"\n\nimport \"./BattleGridComponent.vue?vue&type=style&index=0&id=17a9eb54&lang=css&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-17a9eb54\"]])\n\nexport default __exports__","import { render } from \"./BattleGridWithCaptionsComponent.vue?vue&type=template&id=2a081d56&scoped=true&ts=true\"\nimport script from \"./BattleGridWithCaptionsComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./BattleGridWithCaptionsComponent.vue?vue&type=script&lang=ts\"\n\nimport \"./BattleGridWithCaptionsComponent.vue?vue&type=style&index=0&id=2a081d56&lang=css&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a081d56\"]])\n\nexport default __exports__","import { render } from \"./BattleBoardComponent.vue?vue&type=template&id=5a3c6f2a&ts=true\"\nimport script from \"./BattleBoardComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./BattleBoardComponent.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"card-header bg-transparent fs-4\" }\nconst _hoisted_2 = { class: \"card-body\" }\nconst _hoisted_3 = { class: \"card-text fw-bold\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"card text-center mb-4\", [_ctx.isWinner ? 'gold' : 'text-white bg-secondary grey-border']])\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, _toDisplayString(_ctx.isWinner ? _ctx.getCaptions.winnerHeader : _ctx.getCaptions.loserHeader), 1),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"p\", _hoisted_3, _toDisplayString(_ctx.isWinner ? _ctx.getCaptions.winnerText : _ctx.getCaptions.loserText), 1)\n    ])\n  ], 2))\n}","<template>\r\n  <div\r\n    class=\"card text-center mb-4\"\r\n    :class=\"[isWinner ? 'gold' : 'text-white bg-secondary grey-border']\"\r\n  >\r\n    <div class=\"card-header bg-transparent fs-4\">\r\n      {{ isWinner ? getCaptions.winnerHeader : getCaptions.loserHeader }}\r\n    </div>\r\n    <div class=\"card-body\">\r\n      <p class=\"card-text fw-bold\">\r\n        {{ isWinner ? getCaptions.winnerText : getCaptions.loserText }}\r\n      </p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default defineComponent({\r\n  name: \"GameOverInfoComponent\",\r\n\r\n  props: {\r\n    isWinner: { type: Boolean, default: false },\r\n  },\r\n\r\n  data() {\r\n    return {};\r\n  },\r\n\r\n  computed: { ...mapGetters([\"getCaptions\"]) },\r\n\r\n  methods: {},\r\n});\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.gold {\r\n  border: 3px solid rgb(128, 115, 66);\r\n  background-color: rgb(212, 200, 108);\r\n}\r\n\r\n.grey-border {\r\n  border: 3px solid rgb(82, 88, 94);\r\n}\r\n</style>","import { render } from \"./GameOverInfoComponent.vue?vue&type=template&id=2948fdd4&scoped=true&ts=true\"\nimport script from \"./GameOverInfoComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./GameOverInfoComponent.vue?vue&type=script&lang=ts\"\n\nimport \"./GameOverInfoComponent.vue?vue&type=style&index=0&id=2948fdd4&lang=css&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2948fdd4\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, vModelText as _vModelText, withKeys as _withKeys, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\nimport _imports_0 from '@/assets/refresh-icon.png'\n\n\nconst _hoisted_1 = { id: \"table\" }\nconst _hoisted_2 = { class: \"text-center\" }\nconst _hoisted_3 = {\n  id: \"canvas\",\n  ref: \"canvas\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"table\", _hoisted_1, [\n    _createElementVNode(\"tbody\", null, [\n      _cache[5] || (_cache[5] = _createElementVNode(\"tr\", null, [\n        _createElementVNode(\"td\", { colspan: \"2\" }, [\n          _createElementVNode(\"p\", { class: \"fs-6 fw-bold text-nowrap\" }, \"Введите текст с картинки\")\n        ])\n      ], -1)),\n      _createElementVNode(\"tr\", null, [\n        _createElementVNode(\"td\", null, [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createElementVNode(\"canvas\", _hoisted_3, null, 512)\n          ])\n        ]),\n        _createElementVNode(\"td\", null, [\n          _createElementVNode(\"button\", {\n            class: \"btn btn-outline-light w-100 minw\",\n            type: \"button\",\n            onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.refreshCaptcha && _ctx.refreshCaptcha(...args)))\n          }, _cache[4] || (_cache[4] = [\n            _createElementVNode(\"img\", {\n              id: \"img\",\n              src: _imports_0,\n              alt: \"refresh\"\n            }, null, -1)\n          ]))\n        ])\n      ]),\n      _createElementVNode(\"tr\", null, [\n        _createElementVNode(\"td\", null, [\n          _withDirectives(_createElementVNode(\"input\", {\n            class: \"form-control\",\n            placeholder: \"Текст с картинки\",\n            type: \"text\",\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.userText) = $event)),\n            onKeyup: _cache[2] || (_cache[2] = _withKeys(($event: any) => (\r\n              _ctx.$emit('captchaOkButtonClicked', _ctx.getComparisonResult())\r\n            ), [\"enter\"]))\n          }, null, 544), [\n            [_vModelText, _ctx.userText]\n          ])\n        ]),\n        _createElementVNode(\"td\", null, [\n          _createElementVNode(\"button\", {\n            class: \"btn btn-dark w-100\",\n            type: \"button\",\n            onClick: _cache[3] || (_cache[3] = ($event: any) => (_ctx.$emit('captchaOkButtonClicked', _ctx.getComparisonResult())))\n          }, \" OK \")\n        ])\n      ])\n    ])\n  ]))\n}","<template>\r\n  <table id=\"table\">\r\n    <tbody>\r\n      <tr>\r\n        <td colspan=\"2\">\r\n          <p class=\"fs-6 fw-bold text-nowrap\">Введите текст с картинки</p>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td>\r\n          <div class=\"text-center\">\r\n            <canvas id=\"canvas\" ref=\"canvas\"></canvas>\r\n          </div>\r\n        </td>\r\n        <td>\r\n          <button\r\n            class=\"btn btn-outline-light w-100 minw\"\r\n            type=\"button\"\r\n            @click=\"refreshCaptcha\"\r\n          >\r\n            <img id=\"img\" src=\"@/assets/refresh-icon.png\" alt=\"refresh\" />\r\n          </button>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td>\r\n          <input\r\n            class=\"form-control\"\r\n            placeholder=\"Текст с картинки\"\r\n            type=\"text\"\r\n            v-model=\"userText\"\r\n            @keyup.enter=\"\r\n              $emit('captchaOkButtonClicked', getComparisonResult())\r\n            \"\r\n          />\r\n        </td>\r\n        <td>\r\n          <button\r\n            class=\"btn btn-dark w-100\"\r\n            type=\"button\"\r\n            @click=\"$emit('captchaOkButtonClicked', getComparisonResult())\"\r\n          >\r\n            OK\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"CaptchaComponent\",\r\n\r\n  emits: {\r\n    captchaOkButtonClicked(payload: boolean) {\r\n      // return `true` or `false` to indicate\r\n      // validation pass / fail\r\n      return true;\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      chars:\r\n        \"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,0,1,2,3,4,5,6,7,8,9,$,%,&\",\r\n      numberOfCharsForCaptcha: 4,\r\n      canvasWidth: 150,\r\n      canvasHeight: 40,\r\n      captchaLetters: [] as string[],\r\n      userText: \"\",\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    getComparisonResult(): boolean {\r\n      return this.captchaLetters.join(\"\") === this.userText.toUpperCase();\r\n    },\r\n\r\n    async refreshCaptcha() {\r\n      let canvas = <HTMLCanvasElement>this.$refs.canvas;\r\n      const ctx: CanvasRenderingContext2D | null = canvas.getContext(\"2d\");\r\n\r\n      if (ctx) {\r\n        canvas.width = this.canvasWidth;\r\n        canvas.height = this.canvasHeight;\r\n\r\n        ctx.save();\r\n\r\n        ctx.font = \"bold 25px serif\";\r\n        ctx.textBaseline = \"top\";\r\n        ctx.textAlign = \"left\";\r\n\r\n        this.captchaLetters = this.generateCodeArray();\r\n\r\n        for (let i = 0; i < this.captchaLetters.length; i++) {\r\n          let angle = (Math.random() * Math.PI) / 10;\r\n          let x = i * 10 + 10;\r\n          let y = Math.random() * 4;\r\n\r\n          ctx.translate(x, y);\r\n          ctx.rotate(angle);\r\n          ctx.fillStyle = this.getRandomColor();\r\n\r\n          ctx.fillText(this.captchaLetters[i], 0, 0);\r\n\r\n          ctx.rotate(-angle);\r\n        }\r\n\r\n        ctx.restore();\r\n\r\n        this.addLine(ctx);\r\n      }\r\n    },\r\n\r\n    addLine(ctx: CanvasRenderingContext2D) {\r\n      ctx.strokeStyle = this.getRandomColor();\r\n      ctx.beginPath();\r\n      ctx.moveTo(0, this.canvasHeight / 2);\r\n      ctx.lineTo(this.canvasWidth - 30, this.canvasHeight / 2);\r\n      ctx.stroke();\r\n    },\r\n\r\n    generateCodeArray(): string[] {\r\n      let charArray: string[] = this.chars.split(\",\");\r\n\r\n      let codeArray: string[] = [];\r\n      for (let i = 0; i < this.numberOfCharsForCaptcha; i++) {\r\n        const randomIndex = this.getRandomInt(charArray.length);\r\n        codeArray.push(charArray[randomIndex]);\r\n      }\r\n\r\n      return codeArray;\r\n    },\r\n\r\n    getRandomInt(max: number) {\r\n      return Math.floor(Math.random() * max); // [0, max)\r\n    },\r\n\r\n    getRandomColor() {\r\n      let r = this.getRandomInt(256);\r\n      let g = this.getRandomInt(256);\r\n      let b = this.getRandomInt(256);\r\n      return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\r\n    },\r\n  },\r\n\r\n  async mounted() {\r\n    await this.refreshCaptcha();\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n#img {\r\n  width: 30px;\r\n  height: 30px;\r\n}\r\n\r\n#table > tbody > tr > td {\r\n  border: 1px solid;\r\n}\r\n\r\n.minw {\r\n  min-width: 7rem;\r\n}\r\n</style>","import { render } from \"./CaptchaComponent.vue?vue&type=template&id=1f0229a4&scoped=true&ts=true\"\nimport script from \"./CaptchaComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./CaptchaComponent.vue?vue&type=script&lang=ts\"\n\nimport \"./CaptchaComponent.vue?vue&type=style&index=0&id=1f0229a4&lang=css&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1f0229a4\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\nimport _imports_0 from '@/assets/arrang_rule.png'\n\n\nconst _hoisted_1 = { class: \"container\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, _cache[0] || (_cache[0] = [\n    _createElementVNode(\"div\", { class: \"d-flex flex-row flex-wrap justify-content-center\" }, [\n      _createElementVNode(\"div\", { class: \"p-3\" }, [\n        _createElementVNode(\"div\", { class: \"badge text-bg-dark text-wrap p-3 fs-6 minmaxw custom-style\" }, [\n          _createElementVNode(\"p\", null, \"Перемещай корабли используя первую клетку корабля.\"),\n          _createElementVNode(\"p\", null, \"Двойной клик по ней меняет положение корабля\")\n        ])\n      ]),\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"img\", {\n          src: _imports_0,\n          alt: \"arrang_rule\"\n        })\n      ])\n    ], -1)\n  ])))\n}","<template>\r\n  <div class=\"container\">\r\n    <div class=\"d-flex flex-row flex-wrap justify-content-center\">\r\n      <div class=\"p-3\">\r\n        <div class=\"badge text-bg-dark text-wrap p-3 fs-6 minmaxw custom-style\">\r\n          <p>Перемещай корабли используя первую клетку корабля.</p>\r\n          <p>Двойной клик по ней меняет положение корабля</p>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <img src=\"@/assets/arrang_rule.png\" alt=\"arrang_rule\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"ArrangementRuleComponent\",\r\n});\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.minmaxw {\r\n  max-width: 20rem;\r\n}\r\n\r\n.custom-style {\r\n  height: 100%;\r\n  align-content: center;\r\n}\r\n</style>","import { render } from \"./ArrangementRuleComponent.vue?vue&type=template&id=64a7d82b&scoped=true&ts=true\"\nimport script from \"./ArrangementRuleComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./ArrangementRuleComponent.vue?vue&type=script&lang=ts\"\n\nimport \"./ArrangementRuleComponent.vue?vue&type=style&index=0&id=64a7d82b&lang=css&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-64a7d82b\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"container text-center pt-2 pb-2\" }\nconst _hoisted_2 = { class: \"custom-min-width\" }\nconst _hoisted_3 = [\"value\"]\nconst _hoisted_4 = [\"disabled\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"table\", _hoisted_2, [\n      _createElementVNode(\"tbody\", null, [\n        _cache[1] || (_cache[1] = _createElementVNode(\"tr\", { class: \"text-nowrap\" }, [\n          _createElementVNode(\"td\", null, \"Ваш id (отправь другу)\")\n        ], -1)),\n        _createElementVNode(\"tr\", null, [\n          _createElementVNode(\"td\", null, [\n            _createElementVNode(\"input\", {\n              class: \"form-control\",\n              type: \"text\",\n              disabled: \"\",\n              value: _ctx.clientUUID\n            }, null, 8, _hoisted_3)\n          ])\n        ]),\n        _createElementVNode(\"tr\", null, [\n          _createElementVNode(\"td\", null, [\n            _createElementVNode(\"input\", {\n              class: \"form-control\",\n              type: \"text\",\n              placeholder: \"Введи id друга и нажми создать игру\",\n              onInput: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('friendUUIDUpdated', $event.target.value))),\n              disabled: _ctx.friendInputDisabled\n            }, null, 40, _hoisted_4)\n          ])\n        ])\n      ])\n    ])\n  ]))\n}","<template>\r\n  <div class=\"container text-center pt-2 pb-2\">\r\n    <table class=\"custom-min-width\">\r\n      <tbody>\r\n        <tr class=\"text-nowrap\">\r\n          <td>Ваш id (отправь другу)</td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <input\r\n              class=\"form-control\"\r\n              type=\"text\"\r\n              disabled\r\n              :value=\"clientUUID\"\r\n            />\r\n          </td>\r\n        </tr>\r\n        <tr>\r\n          <td>\r\n            <input\r\n              class=\"form-control\"\r\n              type=\"text\"\r\n              placeholder=\"Введи id друга и нажми создать игру\"\r\n              @input=\"$emit('friendUUIDUpdated', $event.target.value)\"\r\n              :disabled=\"friendInputDisabled\"\r\n            />\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"FriendGameComponent\",\r\n\r\n  emits: {\r\n    friendUUIDUpdated(payload: string) {\r\n      // return `true` or `false` to indicate\r\n      // validation pass / fail\r\n      return true;\r\n    },\r\n  },\r\n\r\n  props: {\r\n    clientUUID: { type: String, default: \"\" },\r\n    friendInputDisabled: { type: Boolean, default: false },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.custom-min-width {\r\n  min-width: 21rem;\r\n}\r\n\r\ntable > tbody > tr > td {\r\n  padding-bottom: 10px;\r\n}\r\n</style>","import { render } from \"./FriendGameComponent.vue?vue&type=template&id=e7b293c2&scoped=true&ts=true\"\nimport script from \"./FriendGameComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./FriendGameComponent.vue?vue&type=script&lang=ts\"\n\nimport \"./FriendGameComponent.vue?vue&type=style&index=0&id=e7b293c2&lang=css&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e7b293c2\"]])\n\nexport default __exports__","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"text-center fs-5 blink\"\n}\nconst _hoisted_2 = {\n  key: 1,\n  class: \"text-center fs-5 blink\"\n}\nconst _hoisted_3 = {\n  key: 2,\n  class: \"text-center fs-5 blink\"\n}\nconst _hoisted_4 = {\n  key: 3,\n  class: \"card border-success text-center mb-4\"\n}\nconst _hoisted_5 = { class: \"card-body text-success\" }\nconst _hoisted_6 = { class: \"card-title\" }\nconst _hoisted_7 = { class: \"darkred\" }\nconst _hoisted_8 = {\n  key: 0,\n  class: \"card-footer bg-transparent border-success text-success\"\n}\nconst _hoisted_9 = {\n  key: 4,\n  class: \"text-center mb-lg-4 mb-5\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_ctx.isSearchingForEnemy())\n    ? (_openBlock(), _createElementBlock(\"p\", _hoisted_1, \" Поиск соперника... \"))\n    : (_ctx.isWaitingForEnemyToPlayAgain())\n      ? (_openBlock(), _createElementBlock(\"p\", _hoisted_2, \" Ждем соперника... \"))\n      : (_ctx.isWaitingForFriend())\n        ? (_openBlock(), _createElementBlock(\"p\", _hoisted_3, \" Ждем друга... \"))\n        : (_ctx.isEnemyPositioningOrArranged())\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n              _createElementVNode(\"div\", _hoisted_5, [\n                _createElementVNode(\"h5\", _hoisted_6, [\n                  _cache[0] || (_cache[0] = _createTextVNode(\" Ваш соперник: \")),\n                  _createElementVNode(\"strong\", _hoisted_7, _toDisplayString(_ctx.enemyNickName), 1)\n                ]),\n                _createElementVNode(\"p\", {\n                  class: _normalizeClass([\"card-text text-dark\", { blink: _ctx.isEnemyPositioningOrArranged }])\n                }, _toDisplayString(_ctx.getEnemyStateCaption()), 3)\n              ]),\n              (_ctx.enemyNickName)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, \" Расставьте корабли и нажмите кнопку \\\"Играть\\\" \"))\n                : _createCommentVNode(\"\", true)\n            ]))\n          : (_openBlock(), _createElementBlock(\"p\", _hoisted_9, _toDisplayString(_ctx.getEnemyStateCaption()), 1))\n}","<template>\r\n  <p class=\"text-center fs-5 blink\" v-if=\"isSearchingForEnemy()\">\r\n    Поиск соперника...\r\n  </p>\r\n  <p class=\"text-center fs-5 blink\" v-else-if=\"isWaitingForEnemyToPlayAgain()\">\r\n    Ждем соперника...\r\n  </p>\r\n  <p class=\"text-center fs-5 blink\" v-else-if=\"isWaitingForFriend()\">\r\n    Ждем друга...\r\n  </p>\r\n  <!-- -------------- -->\r\n  <div\r\n    v-else-if=\"isEnemyPositioningOrArranged()\"\r\n    class=\"card border-success text-center mb-4\"\r\n  >\r\n    <div class=\"card-body text-success\">\r\n      <h5 class=\"card-title\">\r\n        Ваш соперник:\r\n        <strong class=\"darkred\">{{ enemyNickName }}</strong>\r\n      </h5>\r\n      <p\r\n        class=\"card-text text-dark\"\r\n        :class=\"{ blink: isEnemyPositioningOrArranged }\"\r\n      >\r\n        {{ getEnemyStateCaption() }}\r\n      </p>\r\n    </div>\r\n    <div\r\n      v-if=\"enemyNickName\"\r\n      class=\"card-footer bg-transparent border-success text-success\"\r\n    >\r\n      Расставьте корабли и нажмите кнопку \"Играть\"\r\n    </div>\r\n  </div>\r\n  <!-- -------------- -->\r\n  <p v-else class=\"text-center mb-lg-4 mb-5\">\r\n    {{ getEnemyStateCaption() }}\r\n  </p>\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport type { PropType } from \"vue\";\r\nimport GameState from \"@/model/enums/GameState\";\r\n\r\nexport default defineComponent({\r\n  name: \"StateInfoComponent\",\r\n\r\n  props: {\r\n    enemyNickName: { type: String, default: \"\" },\r\n    enemyState: {\r\n      type: Number as PropType<GameState>,\r\n      default: GameState.NOT_CREATED,\r\n    },\r\n    myState: {\r\n      type: Number as PropType<GameState>,\r\n      default: GameState.NOT_CREATED,\r\n    },\r\n  },\r\n\r\n  data() {\r\n    return {};\r\n  },\r\n\r\n  methods: {\r\n    isSearchingForEnemy(): boolean {\r\n      return this.myState === 1;\r\n    },\r\n\r\n    isWaitingForEnemyToPlayAgain(): boolean {\r\n      return (\r\n        this.myState === GameState.SHIPS_POSITIONING &&\r\n        this.enemyState === GameState.GAME_IS_OVER\r\n      );\r\n    },\r\n\r\n    isWaitingForFriend() {\r\n      return this.myState === GameState.WAITING_FOR_FRIEND;\r\n    },\r\n\r\n    isEnemyPositioningOrArranged(): boolean {\r\n      return (\r\n        this.enemyState === GameState.SHIPS_POSITIONING ||\r\n        this.enemyState === GameState.SHIPS_ARE_ARRANGED\r\n      );\r\n    },\r\n\r\n    getEnemyStateCaption() {\r\n      switch (this.enemyState) {\r\n        case GameState.SHIPS_POSITIONING:\r\n          return \"расставляет корабли...\";\r\n        case GameState.SHIPS_ARE_ARRANGED:\r\n          return \"расставил корабли и готов играть\";\r\n        case GameState.PLAYING:\r\n          return \"Игра началась\";\r\n\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n</style>","import { render } from \"./StateInfoComponent.vue?vue&type=template&id=8aa8755c&ts=true\"\nimport script from \"./StateInfoComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./StateInfoComponent.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./BattleShipView.vue?vue&type=template&id=792dca3d&scoped=true&ts=true\"\nimport script from \"./BattleShipView.vue?vue&type=script&lang=ts\"\nexport * from \"./BattleShipView.vue?vue&type=script&lang=ts\"\n\nimport \"./BattleShipView.vue?vue&type=style&index=0&id=792dca3d&lang=css&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-792dca3d\"]])\n\nexport default __exports__","import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router'\nimport BattleShipView from '../views/BattleShipView.vue'\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/',\n    name: 'battle',\n    component: BattleShipView\n\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    // component: () => import(/* webpackChunkName: \"about\" */ '../views/AboutView.vue')\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nexport default router\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap\";\r\n\r\ncreateApp(App).use(store).use(router).mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkbattleship\"] = self[\"webpackChunkbattleship\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(5089); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","_component_router_view","script","__exports__","render","key","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_ctx","$props","$setup","$data","$options","_component_CaptchaComponent","_resolveComponent","_component_FriendGameComponent","_component_ArrangementRuleComponent","_component_StateInfoComponent","_component_GameOverInfoComponent","_component_BattleBoardComponent","_openBlock","_withDirectives","placeholder","type","$event","nickName","_vModelText","this","captchaVisible","onCaptchaOkButtonClicked","processCaptcha","_createCommentVNode","onClick","args","handleRandomGameButtonClick","disabled","topButtonDisabled","handleFriendGameButtonClick","isFriendGameNotCreated","clientUUID","onFriendUUIDUpdated","validateAndSetFriendUUID","friendInputDisabled","handleCreateFriendGameButtonClick","isPlaying","isStateInfoComponentVisible","_createBlock","enemyNickName","getEnemyNickname","enemyState","getEnemyState","myState","getMyState","isWinner","getIsWinner","isMyTurnToShoot","getIsMyTurnToShoot","turnOrderHintsVisible","enemyShotHint","getEnemyShotHint","enemyNickname","ref","handlePlayButtonClick","isPlayButtonEnabled","_toDisplayString","getPlayButtonCaption","_normalizeClass","getAlert","alertColor","role","alertText","hideAlert","_vShow","alertVisible","_component_BattleGridWithCaptionsComponent","blink","gridType","hostileGrid","_component_BattleGridComponent","style","_normalizeStyle","width","getCanvasWidth","_createStaticVNode","height","getCanvasHeight","id","GameState","GameType","MessageType","ShipOrientation","HighlightType","letterDict","Location","constructor","_x","_y","_defineProperty","x","v","y","getLocationByOffsetXY","offsetX","offsetY","st","GameStore","state","gcw","getters","getGridCellWidth","gch","getGridCellHeight","currentX","Math","floor","currentY","highlight","ctx","highlightType","CIRCLE","save","SQUARE","fillStyle","fillRect","circle","Path2D","sp","scaleParameter","arc","PI","fill","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","restore","outsideTheGrid","isValid","Game","getShips","ships","createInitialShips","Ship","Horizontal","Vertical","refreshGridAndShips","getContext2D","hostileCtx","getHostileContext2D","clearGrid","makeGrid","forEach","s","draw","clearRect","canvas","existsInShotHistory","location","containsLocation","shotHistory","createInitialRandomShips","isArrangementCorrect","intersections","i","length","outerShip","j","innerShip","res","isIntersect","Array","prototype","push","apply","undefined","getShipByHeadLocation","find","getShipByLocation","notDestroyedShips","filter","hitsNumber","ship","getLocations","gridLineThickness","setLineDash","cw","ch","drawShips","loc","locations","l","getDiagonalLocations","diagonalLocs","neighborX","neighborY","allShipsAreSunk","every","highlightDiagonals","diagonals","addToShotHistory","shot","clearShotHistory","WebSocketManager","createWebSocket","host","WS_SERVER_HOST","port","WS_SERVER_PORT","socket","WebSocket","setupWSAndCreateGameOnOpen","ws","gameCreationBody","onopen","event","console","log","send","JSON","stringify","onmessage","async","GameProcessManager","processData","data","onerror","onclose","wasClean","error","getWebSocket","ShotResult","UIHandler","showAlert","delay","commit","setTimeout","getEnemyUUID","enemyClientUuid","getGameId","gameId","dataFromServer","parsedData","parse","msg_type","GAME_CREATION","is_status_ok","processGameCreation","SHIPS_ARE_ARRANGED","processShipArrangement","PLAY","processStartingToPlay","FIRE_REQUEST","processFireRequest","FIRE_RESPONSE","processFireResponse","GAME_OVER","processGameOver","UNSUNK_SHIPS","processUnsunkShips","DISCONNECTION","processDisconnection","PLAY_AGAIN","processPlayAgain","getGameCreationBody","gameType","enemy_client_id","game_type","FRIEND","SHIPS_POSITIONING","enemy_nickname","PLAYING","turn_to_shoot","dispatch","shot_location","ht","fireResponse","shot_result","MISS","CROSS","diags","HIT","SUNK","ss","sunkShip","edgeLocs","getFrontAndBackLocations","GAME_IS_OVER","toString","currentShot","sendUnsunkShipsToEnemy","unsunkShips","unSunkShips","map","NOT_CREATED","handleHostileGridClick","shotLocation","unsunkShipsResp","canvasWidth","canvasHeight","numberOfCellsOnTheAxisX","numberOfCellsOnTheAxisY","context2D","CanvasRenderingContext2D","hostileContext2D","handlers","pointerDownHandler","Function","pointerMoveHandler","pointerUpHandler","touchStartHandler","alert","getEnemyClientUuid","mutations","setContext2D","setContextHostile2D","setHandlers","payload","setAlert","setMyState","setEnemyState","setEnemyNickname","setEnemyClientUuid","setMyTurnToShoot","setEnemyShotHint","setIsWinner","actions","addOwnGridEventListeners","addEventListener","removeOwnGridEventListeners","removeEventListener","enableShooting","disableShooting","CaptionStore","rusCaptions","loserHeader","winnerHeader","loserText","winnerText","getCaptions","GridType","createStore","modules","_length","_type","_location","_hitsNumber","strokeColor","rectangleWidth","rectangleHeight","drawBulkhead","strokeRect","x0","y0","changeOrientation","loc_x","loc_y","shipType","locs","leftLoc","rightLoc","topLoc","bottomLoc","loc1","loc2","abs","defineComponent","name","props","String","Own","selectedShip","currentTimeStamp","computed","mapGetters","methods","getContext","$refs","changeShipOrientation","crossesBorderWithBackLocation","checkArrangementAndHighlight","handlePointerDown","preventDefault","timeDelta","Date","now","handlePointerMove","handlePointerUp","handleTouchStart","registerOwnGridHandlers","currentMovedLocation","isDoubleClickEvent","orientation","tempShip","allShipLocs","endLocation","mounted","components","BattleGridComponent","BattleGridWithCaptionsComponent","Boolean","Hostile","colspan","refreshCaptcha","src","_imports_0","alt","userText","onKeyup","_withKeys","$emit","getComparisonResult","emits","captchaOkButtonClicked","chars","numberOfCharsForCaptcha","captchaLetters","join","toUpperCase","font","textBaseline","textAlign","generateCodeArray","angle","random","translate","rotate","getRandomColor","fillText","addLine","charArray","split","codeArray","randomIndex","getRandomInt","max","r","g","b","value","onInput","target","friendUUIDUpdated","isSearchingForEnemy","isWaitingForEnemyToPlayAgain","isWaitingForFriend","isEnemyPositioningOrArranged","getEnemyStateCaption","Number","WAITING_FOR_FRIEND","BattleBoardComponent","StateInfoComponent","GameOverInfoComponent","CaptchaComponent","ArrangementRuleComponent","FriendGameComponent","RANDOM","friendUUID","isCaptchaSuccess","eventArg","parsedUUID","uuidStringify","uuidParse","MAX_UUID","NIL_UUID","preventNavAndUnload","returnValue","isNickNameValid","trim","maxLength","handleGameCreation","SEARCHING_FOR_OPPONENT","uuidv4","handlePlayAgain","game_id","caption","beforeRouteLeave","from","next","window","confirm","close","beforeMount","beforeUnmount","routes","path","component","BattleShipView","router","createRouter","history","createWebHistory","process","createApp","App","use","store","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","splice","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","globalThis","e","obj","prop","hasOwnProperty","Symbol","toStringTag","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}